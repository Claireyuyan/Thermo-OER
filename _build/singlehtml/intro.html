

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>OER Engineering Thermodynamics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'intro';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/text16.png" class="logo__image only-light" alt="None - Home"/>
    <script>document.write(`<img src="_static/text16.png" class="logo__image only-dark" alt="None - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Open Education Resources(OER): Introduction to Engineering Thermodynamics
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Acknowledgements</span></p>
<ul class="nav bd-sidenav">

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="nav bd-sidenav">






</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/thermo-oer-ubc/Thermo-OER" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/thermo-oer-ubc/Thermo-OER/issues/new?title=Issue%20on%20page%20%2Fintro.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Open Education Resources(OER): Introduction to Engineering Thermodynamics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="open-education-resources-oer-introduction-to-engineering-thermodynamics">
<h1>Open Education Resources(OER): Introduction to Engineering Thermodynamics<a class="headerlink" href="#open-education-resources-oer-introduction-to-engineering-thermodynamics" title="Permalink to this heading">#</a></h1>
<p>This is a project that extends the original e-textbook written by Dr. Claire Yu Yan in UBC Okanagan campus:<a class="reference external" href="https://pressbooks.bccampus.ca/thermo1">Introduction to Engineering Thermodynamics</a>. The main goals for this project are as follows:</p>
<p>(i) To provide students with a list of questions that can be done in their laptops with the help of some Python packages such as CoolProp, numpy and matplotlib.</p>
<p>(ii) To reinforce the concepts learnt from e-textbook and to get a better appreciation of how to use digital tools to do perform thermodynamic calculations.</p>
<p>(iii) To provide a starting point for Thermodynamics courses in other disciplines to adopt a more computational approach for their courses.</p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/ack/ack"></span><section class="tex2jax_ignore mathjax_ignore" id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading">#</a></h2>
<section id="funding-acknowledgements">
<h3>Funding acknowledgements<a class="headerlink" href="#funding-acknowledgements" title="Permalink to this heading">#</a></h3>
<p>This project was made possible by 2023/24 <a class="reference external" href="https://oerfund.open.ubc.ca/oer-affordability-grants/">OER Affordability Grant</a> (formerly known as OER Implementation Grant) at UBC Vancouver.</p>
</section>
<section id="contributions">
<h3>Contributions<a class="headerlink" href="#contributions" title="Permalink to this heading">#</a></h3>
<p>Content for various chapers was created by the following students:</p>
<p><a class="reference external" href="https://ca.linkedin.com/in/ali-doustahadi-652251169">Ali Doustahadi</a>, MASc candidate in the Department of Materials Engineering, UBC Vancouver, created material for Chapter 3 and Chapter 5.</p>
<p><a class="reference external" href="https://ca.linkedin.com/in/drcswang">Dr.Chun-Sheng Wang</a>, Postdoctoral research fellow in the Department of Mechanical Engineering, UBC Okanagan, created material for Chapter 1 and 6.</p>
<p><a class="reference external" href="https://www.linkedin.com/in/hariharan-hari-u-a25788254/">Hariharan Umashankar</a>, PhD candidate in the Department of Materials Engineering, UBC Vancouver, created material for Chapter 2 and Chapter 4 and hosted this website on Github pages.</p>
<p>The following faculty members were responsible for providing feedback along the course of this project and acquiring the project funds:</p>
<p><a class="reference external" href="https://mtrl.ubc.ca/casey-keulen/">Dr. Casey Keulen</a>, Assistant Professor of Teaching, Department of Materials Engineering, UBC Vancouver.</p>
<p><a class="reference external" href="https://mtrl.ubc.ca/amir-m-dehkhoda/">Dr. Amir M. Dehkhoda</a>, Assistant Professor of Teaching, Department of Materials Engineering, UBC Vancouver.</p>
<p><a class="reference external" href="https://apsc.ubc.ca/profile/yu-claire-yan">Dr. Claire (Yu) Yan</a>, Associate Professor of Teaching, Department of Mechanical Engineering, UBC Okanagan.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-notebooks/getting_started/getting_started"></span><section class="tex2jax_ignore mathjax_ignore" id="getting-started-introduction-to-jupyter-and-python">
<h2>Getting Started: Introduction to Jupyter and Python!<a class="headerlink" href="#getting-started-introduction-to-jupyter-and-python" title="Permalink to this heading">#</a></h2>
<p>Hey! Welcome to learning about Jupyter notebooks and using it for doing basic thermodynamic calculations.</p>
<p>In this section, we will use the Jupyter notebook interface to show how to add, subtract, multiply and divide numbers. Also, an introduction about python packages will be provided in here.</p>
</section>
<span id="document-notebooks/getting_started/basic_math"></span><section class="tex2jax_ignore mathjax_ignore" id="basic-operations-inside-jupyter">
<h2>Basic operations inside Jupyter<a class="headerlink" href="#basic-operations-inside-jupyter" title="Permalink to this heading">#</a></h2>
<p>Adding a cell above the current one: ‘a’</p>
<p>Adding a cell below the current one: ‘b’</p>
<p>Delete cell entirely: ‘d,d’ (press d twice)</p>
<p>To execute/run a cell: Ctrl + Enter</p>
<p>To execute/run a cell and move to the next one: Shift + enter</p>
<p>Each cell has a type associated with it: “Code”, “Markdown”, “Raw”</p>
<section id="import-libraries">
<h3>Import libraries<a class="headerlink" href="#import-libraries" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="basic-math">
<h3>Basic math<a class="headerlink" href="#basic-math" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">4</span> <span class="c1"># multiply</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">**</span><span class="mi">2</span> <span class="c1"># exponentiate</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16
16
</pre></div>
</div>
</div>
</div>
</section>
<section id="plotting-using-matplotlib-package">
<h3>Plotting using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> package<a class="headerlink" href="#plotting-using-matplotlib-package" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="s1">&#39;-*b&#39;</span><span class="p">)</span> <span class="c1">## x array, y array and line or marker specifications</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;X values&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Y values&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Y values&#39;)
</pre></div>
</div>
<img alt="_images/d4ca1d9555daa33a4bf01dc1887639d8261fc8ad172a196ab1955df7461d4613.png" src="_images/d4ca1d9555daa33a4bf01dc1887639d8261fc8ad172a196ab1955df7461d4613.png" />
</div>
</div>
</section>
<section id="numerical-operation-using-numpy-package">
<h3>Numerical operation using <code class="docutils literal notranslate"><span class="pre">numpy</span></code> package<a class="headerlink" href="#numerical-operation-using-numpy-package" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c1">## create a regular-spaced array from start to end and number of datapoints</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c1">## create a regular-spaced array from start to stop (excluding) with step size as input</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>50.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="s1">&#39;-*b&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f6285497d60&gt;]
</pre></div>
</div>
<img alt="_images/642f4881db6488054865e83c11b32bece169375a4c3acd18f6d5f7e6c17d193b.png" src="_images/642f4881db6488054865e83c11b32bece169375a4c3acd18f6d5f7e6c17d193b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="s1">&#39;*b&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f628541f9a0&gt;]
</pre></div>
</div>
<img alt="_images/d3bd21d0785762a9f629ceb393d28346185b9b98338d39ba03c9381b3596c28d.png" src="_images/d3bd21d0785762a9f629ceb393d28346185b9b98338d39ba03c9381b3596c28d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.89342128, 0.22409828, 0.97702249, 0.5533418 , 0.72261383,
       0.63191313, 0.2455794 , 0.588028  , 0.94449222, 0.81295154,
       0.85673411, 0.98242762, 0.70420093, 0.73077149, 0.63828771])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="n">high</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([59, 83, 54, 95, 99, 89, 88, 75, 55, 65, 76, 68])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## did some plotting with sinx, cosx</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Sin(x)&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Cos(x)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7f62b86e7f70&gt;
</pre></div>
</div>
<img alt="_images/23c86f31aa0456a60db1fc341134cdbbe773436b95e1f84a1552570b328da3e9.png" src="_images/23c86f31aa0456a60db1fc341134cdbbe773436b95e1f84a1552570b328da3e9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## did some plotting with polynomials</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span><span class="s1">&#39;x^2&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">5</span> <span class="o">-</span> <span class="n">x</span> <span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;x^5 - x^2 + 1&#39;</span><span class="p">)</span>

<span class="c1">## something that we did not cover in class:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span> <span class="c1">## restricts the x-axis limit from -10 to +10</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span> <span class="c1">## restricts the y-axis limit from -10 to + 10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-10.0, 10.0)
</pre></div>
</div>
<img alt="_images/736f143bbe7d458ae4ef553f471bda9900c8c0b0035c475322fd610e68859e3e.png" src="_images/736f143bbe7d458ae4ef553f471bda9900c8c0b0035c475322fd610e68859e3e.png" />
</div>
</div>
</section>
<section id="installing-coolprop-and-calculating-enthalpy-of-vaporization">
<h3>Installing CoolProp and calculating Enthalpy of Vaporization<a class="headerlink" href="#installing-coolprop-and-calculating-enthalpy-of-vaporization" title="Permalink to this heading">#</a></h3>
<p>install CoolProp by using:</p>
<p>!pip install CoolProp</p>
<p>or</p>
<p>import sys
!{sys.executable} -m pip install CoolProp</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">CoolProp.CoolProp</span> <span class="kn">import</span> <span class="n">PropsSI</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># enthalpy of vaporization example</span>
<span class="n">H_L</span> <span class="o">=</span> <span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="mi">101325</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;water&#39;</span><span class="p">)</span>
<span class="n">H_V</span> <span class="o">=</span> <span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="mi">101325</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;water&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;the enthalpy of vaporization at P = 1 atm is:&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">((</span><span class="n">H_V</span> <span class="o">-</span> <span class="n">H_L</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span><span class="p">),</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>the enthalpy of vaporization at P = 1 atm is: 2256 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3><a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
</section>
</section>
<span id="document-notebooks/getting_started/Table_G1_Properties_of_ideal_gases"></span><section class="tex2jax_ignore mathjax_ignore" id="defining-variables-properties-of-ideal-gases-as-use-case">
<h2>Defining variables: Properties of Ideal Gases as use case<a class="headerlink" href="#defining-variables-properties-of-ideal-gases-as-use-case" title="Permalink to this heading">#</a></h2>
<p>From: <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/back-matter/properties-of-various-substances/#TG1">https://pressbooks.bccampus.ca/thermo1/back-matter/properties-of-various-substances/#TG1</a></p>
<p>Use the above table to look-up the following properties of Air:</p>
<p>Gas constant (R)</p>
<p>C_p (heat capacity at const. pressure)</p>
<p>C_v (heat capacity at const. volume)</p>
<p>k (ratio of Cp and Cv)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Air</span>
<span class="n">R_air</span> <span class="o">=</span> <span class="mf">0.287</span> <span class="c1"># kJ/kgK</span>
<span class="n">Cp_air</span> <span class="o">=</span> <span class="mf">1.005</span> <span class="c1">#kJ/kgK</span>
<span class="n">Cv_air</span> <span class="o">=</span> <span class="mf">0.718</span> <span class="c1">#kJ/kgK</span>
<span class="n">k_air</span> <span class="o">=</span> <span class="mf">1.4</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Argon</span>

<span class="c1">### Please fill in here from looking into the above URL ###</span>
</pre></div>
</div>
</div>
</div>
<p>R_argon = # kJ/kgK</p>
<p>Cp_argon = #kJ/kgK</p>
<p>Cv_argon =  #kJ/kgK</p>
<p>k_argon =   # unitless</p>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter1/chapter1"></span><section class="tex2jax_ignore mathjax_ignore" id="basic-concepts-and-definitions">
<h2>1. Basic Concepts and Definitions<a class="headerlink" href="#basic-concepts-and-definitions" title="Permalink to this heading">#</a></h2>
<p>Let’s do some problems based on concepts on <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/introduction-and-learning-objectives/">Chapter 1</a> from the e-textbook.</p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter1/CH1-Q1"></span><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
</div>
</section>
<span id="document-notebooks/Chapter2/thermo-properties"></span><section class="tex2jax_ignore mathjax_ignore" id="thermodynamic-properties-of-a-pure-substance">
<h2>2. Thermodynamic Properties of a Pure Substance<a class="headerlink" href="#thermodynamic-properties-of-a-pure-substance" title="Permalink to this heading">#</a></h2>
<p>This is a problem set based on the concepts from the Chapter here: <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/2-0-chapter-introduction-and-learning-objectives/">https://pressbooks.bccampus.ca/thermo1/chapter/2-0-chapter-introduction-and-learning-objectives/</a></p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter2/Problem_1_Pressure_in_a_Tank"></span><section class="tex2jax_ignore mathjax_ignore" id="pressure-in-a-tank">
<h3>Pressure in a Tank<a class="headerlink" href="#pressure-in-a-tank" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A cylindrical tank contains air at a gauge pressure of 3 atm and an ambient atmospheric pressure of 1 atm.
Calculate the absolute pressure inside the tank.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="c1"># Given values</span>
<span class="n">P_gauge</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">101325</span>  <span class="c1"># Gauge pressure in Pascals (1 atm = 101325 Pa)</span>
<span class="n">P_atm</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">101325</span>  <span class="c1"># Atmospheric pressure in Pascals</span>

<span class="c1"># Absolute pressure</span>
<span class="n">P_abs</span> <span class="o">=</span> <span class="n">P_gauge</span> <span class="o">+</span> <span class="n">P_atm</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Absolute pressure inside the tank: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">P_abs</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kPa&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Absolute pressure inside the tank: 405.3 kPa
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_2_Density_of_a_Gas"></span><section class="tex2jax_ignore mathjax_ignore" id="density-of-a-gas">
<h3>Density of a Gas<a class="headerlink" href="#density-of-a-gas" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A container with a volume of 2 m³ holds 5 kg of nitrogen gas.
Calculate the density of the gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Mass of nitrogen in kg</span>
<span class="n">V</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Volume in m^3</span>

<span class="c1"># Density calculation</span>
<span class="n">density</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="n">V</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Density of the nitrogen gas: </span><span class="si">{</span><span class="n">density</span><span class="si">}</span><span class="s2"> kg/m^3&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Density of the nitrogen gas: 2.5 kg/m^3
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_3_Energy_in_a_Moving_Vehicle"></span><section class="tex2jax_ignore mathjax_ignore" id="energy-in-a-moving-vehicle">
<h3>Energy in a Moving Vehicle<a class="headerlink" href="#energy-in-a-moving-vehicle" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A car with a mass of 1200 kg is traveling at a speed of 60 km/h.
If the height above the ground is 50 m, calculate the total stored energy of the car.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1200</span>  <span class="c1"># Mass of the car in kg</span>
<span class="n">V</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1000</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">)</span>  <span class="c1"># Speed in m/s (60 km/h)</span>
<span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>  <span class="c1"># Acceleration due to gravity in m/s^2</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># Height in meters</span>

<span class="c1"># Total stored energy calculation</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="p">(</span><span class="n">V</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">g</span> <span class="o">*</span> <span class="n">z</span><span class="p">)</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total stored energy of the car: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">E</span><span class="o">/</span><span class="mf">1e3</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total stored energy of the car: 755 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_4_Enthalpy_of_a_Steam"></span><section class="tex2jax_ignore mathjax_ignore" id="enthalpy-of-a-steam">
<h3>Enthalpy of a Steam<a class="headerlink" href="#enthalpy-of-a-steam" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>Calculate the specific enthalpy of steam at a pressure of 200 kPa and a specific volume of 0.15 m³/kg.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># Given values</span>
<span class="n">P</span> <span class="o">=</span> <span class="mi">200000</span>  <span class="c1"># Pressure in Pascals</span>
<span class="n">v</span> <span class="o">=</span> <span class="mf">0.15</span>  <span class="c1"># Specific volume in m^3/kg</span>

<span class="c1"># Specific enthalpy calculation</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">v</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific enthalpy of steam: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ/kg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Specific enthalpy of steam: 875.4 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_5_Quality_of_a_Vapor_Mixture"></span><section class="tex2jax_ignore mathjax_ignore" id="quality-of-a-vapor-mixture">
<h3>Quality of a Vapor Mixture<a class="headerlink" href="#quality-of-a-vapor-mixture" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>In a vapor mixture at 150°C, the mass of the vapor phase is 3 kg, and the total mass of the mixture is 5 kg.
Determine the quality of the mixture.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="c1"># Given values</span>
<span class="n">m_vapor</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># Mass of vapor phase in kg</span>
<span class="n">m_total</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Total mass of the mixture in kg</span>

<span class="c1"># Quality calculation</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">m_vapor</span> <span class="o">/</span> <span class="n">m_total</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Quality of the mixture: </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Quality of the mixture: 0.6
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_6_Compressed_Liquid_Approximation"></span><section class="tex2jax_ignore mathjax_ignore" id="compressed-liquid-approximation">
<h3>Compressed Liquid Approximation<a class="headerlink" href="#compressed-liquid-approximation" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>For water at 50°C under high pressure, approximate the specific volume, internal energy, enthalpy, and entropy
assuming it behaves as a compressed liquid.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># Given values</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">50</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Temperature in Kelvin</span>

<span class="c1"># Approximations for compressed liquid</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span>  <span class="c1"># Specific volume</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>  <span class="c1"># Specific internal energy</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>  <span class="c1"># Specific enthalpy</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>  <span class="c1"># Specific entropy</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific volume: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> m^3/kg&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific internal energy: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ/kg&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific enthalpy: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ/kg&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific entropy: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ/kg*K&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Specific volume: 988.0 m^3/kg
Specific internal energy: 209.33 kJ/kg
Specific enthalpy: 209.34 kJ/kg
Specific entropy: 0.7 kJ/kg*K
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_7_Conversion_of_Temperature"></span><section class="tex2jax_ignore mathjax_ignore" id="conversion-of-temperature">
<h3>Conversion of Temperature<a class="headerlink" href="#conversion-of-temperature" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>Convert a temperature of 20°C to Kelvin.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="c1"># Given value</span>
<span class="n">T_Celsius</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># Temperature in Celsius</span>

<span class="c1"># Conversion to Kelvin</span>
<span class="n">T_Kelvin</span> <span class="o">=</span> <span class="n">T_Celsius</span> <span class="o">+</span> <span class="mf">273.15</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperature in Kelvin: </span><span class="si">{</span><span class="n">T_Kelvin</span><span class="si">}</span><span class="s2"> K&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Temperature in Kelvin: 293.15 K
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/Problem_8_Specific_Entropy_Calculation"></span><section class="tex2jax_ignore mathjax_ignore" id="specific-entropy-calculation">
<h3>Specific Entropy Calculation<a class="headerlink" href="#specific-entropy-calculation" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>Calculate the specific entropy of a system with a total entropy of 2500 J/K and a mass of 10 kg.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="c1"># Given values</span>
<span class="n">S_total</span> <span class="o">=</span> <span class="mi">2500</span>  <span class="c1"># Total entropy in J/K</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Mass in kg</span>

<span class="c1"># Specific entropy calculation</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">S_total</span> <span class="o">/</span> <span class="n">m</span>

<span class="c1"># Output the result</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific entropy: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ/(kg*K)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Specific entropy: 0.2 kJ/(kg*K)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/complete-table-water"></span><section class="tex2jax_ignore mathjax_ignore" id="complete-the-following-table-for-water">
<h3>Complete the following table for Water:<a class="headerlink" href="#complete-the-following-table-for-water" title="Permalink to this heading">#</a></h3>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>T, degC</p></th>
<th class="head"><p>P, kPa</p></th>
<th class="head"><p>u, kJ/kg</p></th>
<th class="head"><p>Phase description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p>560</p></td>
<td><p>1470</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>240</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Saturated vapor</p></td>
</tr>
<tr class="row-even"><td><p>150</p></td>
<td><p>2600</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>4200</p></td>
<td><p>3100</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Lookup tables from the e-textbook: <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/thermodynamic-tables/">https://pressbooks.bccampus.ca/thermo1/chapter/thermodynamic-tables/</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (a)================###</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">0.56e6</span> <span class="c1"># in Pa</span>
<span class="n">u</span> <span class="o">=</span> <span class="mi">1470</span> <span class="c1"># in kJ/kg</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>
<span class="n">uf</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="n">ug</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Uf at given pressure: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uf</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ug at given pressure: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ug</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="c1">## we are in saturated mixture region; since u_given &gt; uf and u_given &lt; ug!</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span><span class="s2">&quot;P&quot;</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Phase description: Saturated mixture&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">T</span> <span class="o">-</span> <span class="mf">273.15</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span><span class="s2">&quot;deg C&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Uf at given pressure: 658.15 kJ/kg
Ug at given pressure: 2564.51 kJ/kg
Phase description: Saturated mixture
Temperature: 156.15 deg C
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (b)================###</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">240</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1"># Kelvin</span>
<span class="n">uf</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="n">ug</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;U at given temperature : </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ug</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="n">pressure</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pressure: </span><span class="si">{}</span><span class="s2"> kPa&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">pressure</span> <span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>U at given temperature : 2603.1 kJ/kg
Pressure: 3346.9 kPa
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (c) ================###</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">150</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1"># Kelvin</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">2600e3</span> <span class="c1"># Pa</span>
<span class="n">Psat</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="c1">## P &gt; Psat; hence compressed fluid</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Phase description: Compressed liquid&quot;</span><span class="p">)</span>
<span class="n">u_state</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>
<span class="n">uf</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;u = </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">u_state</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;uf  = </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uf</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Phase description: Compressed liquid
u = 630.66 kJ/kg
uf  = 631.66 kJ/kg
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (d)================###</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>
<span class="n">pressure</span> <span class="o">=</span> <span class="mf">4200e3</span> <span class="c1"># Pa</span>
<span class="n">u_given_state</span> <span class="o">=</span> <span class="mf">3100e3</span> <span class="c1"># in J/kg</span>
<span class="c1"># calculating u at q = 0 (sat. liquid)</span>
<span class="c1">## add comments to help the audience to help them to understand the arguments that you supply</span>
<span class="n">uf</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="n">ug</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Uf at given pressure: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uf</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ug at given pressure: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ug</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="c1">## we are in ssuperheated vapor region; u &gt; ug!</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">u_given_state</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature at the final state in deg C: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">T</span><span class="o">-</span><span class="mf">273.15</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Uf at given pressure: 1096.4 kJ/kg
Ug at given pressure: 2601.0 kJ/kg
Temperature at the final state in deg C: 500.8
</pre></div>
</div>
</div>
</div>
<section id="completed-table">
<h4>Completed table:<a class="headerlink" href="#completed-table" title="Permalink to this heading">#</a></h4>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>T, degC</p></th>
<th class="head"><p>P, kPa</p></th>
<th class="head"><p>u, kJ/kg</p></th>
<th class="head"><p>Phase description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>156.15</strong></p></td>
<td><p>560</p></td>
<td><p>1470</p></td>
<td><p><strong>Saturated liq-vapour mixture</strong></p></td>
</tr>
<tr class="row-odd"><td><p>240</p></td>
<td><p><strong>3346.92</strong></p></td>
<td><p><strong>2603.12</strong></p></td>
<td><p>Saturated vapor</p></td>
</tr>
<tr class="row-even"><td><p>150</p></td>
<td><p>2600</p></td>
<td><p><strong>630.66</strong></p></td>
<td><p><strong>Compressed Liquid</strong></p></td>
</tr>
<tr class="row-odd"><td><p><strong>500.8</strong></p></td>
<td><p>4200</p></td>
<td><p>3100</p></td>
<td><p><strong>Superheated vapor</strong></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<span id="document-notebooks/Chapter2/complete-table-R134a"></span><section class="tex2jax_ignore mathjax_ignore" id="complete-the-table-r-134a">
<h3>Complete the table: R-134a<a class="headerlink" href="#complete-the-table-r-134a" title="Permalink to this heading">#</a></h3>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>T, degC</p></th>
<th class="head"><p>P, kPa</p></th>
<th class="head"><p>u, kJ/kg</p></th>
<th class="head"><p>Phase description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p>800</p></td>
<td><p>275</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>-10</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>Saturated vapor</p></td>
</tr>
<tr class="row-even"><td><p>30</p></td>
<td><p>1200</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>2000</p></td>
<td><p>250</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">CoolProp</span> <span class="kn">import</span> <span class="n">CoolProp</span> <span class="k">as</span> <span class="n">CP</span>
<span class="c1">###========== (a)================###</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">0.8e6</span> <span class="c1"># in Pa</span>
<span class="n">u</span> <span class="o">=</span> <span class="mi">275</span> <span class="c1"># in kJ/kg</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134a&quot;</span>
<span class="n">uf</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="n">ug</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Uf at given pressure: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uf</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ug at given pressure: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ug</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="c1">## we are in saturated mixture region; since u_given &gt; uf and u_given &lt; ug!</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span><span class="s2">&quot;P&quot;</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Phase description: Saturated mixture&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">T</span> <span class="o">-</span> <span class="mf">273.15</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span><span class="s2">&quot;deg C&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Uf at given pressure: 243.0 kJ/kg
Ug at given pressure: 395.0 kJ/kg
Phase description: Saturated mixture
Temperature: 31.33 deg C
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (b)================###</span>
<span class="n">T</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">## K</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134a&quot;</span>
<span class="n">press1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span><span class="s2">&quot;T&quot;</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="n">ug</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;U = Ug at given temperature: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ug</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pressure = </span><span class="si">{}</span><span class="s2"> kPa&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">press1</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>U = Ug at given temperature: 372.69 kJ/kg
Pressure = 200.6 kPa
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (c)================###</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">## K</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">1200e3</span> <span class="c1"># Pa</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134a&quot;</span>
<span class="n">press_at_given_temp</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span><span class="s2">&quot;T&quot;</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span> <span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pressure = </span><span class="si">{}</span><span class="s2"> kPa&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">press_at_given_temp</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="n">u</span><span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;U = </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">uf</span><span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Uf = </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uf</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pressure = 770.2 kPa
U = 240.7 kJ/kg
Uf = 241.07 kJ/kg
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (d)================###</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">2000e3</span> <span class="c1"># Pa</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134a&quot;</span>
<span class="n">T_sat</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature = </span><span class="si">{}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">T_sat</span><span class="o">-</span><span class="mf">273.15</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="n">uf</span><span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>
<span class="n">ug</span><span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Uf = </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">uf</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ug = </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ug</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="c1">## given U is below u_f; hence compressed liquid</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span><span class="s2">&quot;U&quot;</span><span class="p">,</span><span class="mf">250e3</span><span class="p">,</span><span class="s2">&quot;P&quot;</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="n">fluid</span><span class="p">)</span> <span class="o">-</span> <span class="mf">273.15</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature = </span><span class="si">{}</span><span class="s2"> C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Temperature = 67.5 C
Uf = 297.98 kJ/kg
Ug = 409.7 kJ/kg
Temperature = 36.92 C
</pre></div>
</div>
</div>
</div>
<section id="completed-table">
<h4>completed table:<a class="headerlink" href="#completed-table" title="Permalink to this heading">#</a></h4>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>T, degC</p></th>
<th class="head"><p>P, kPa</p></th>
<th class="head"><p>u, kJ/kg</p></th>
<th class="head"><p>Phase description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>31.33</strong></p></td>
<td><p>800</p></td>
<td><p>275</p></td>
<td><p><strong>Saturated liq-vapour mixture</strong></p></td>
</tr>
<tr class="row-odd"><td><p>-10</p></td>
<td><p><strong>200.6</strong></p></td>
<td><p><strong>372.687</strong></p></td>
<td><p>Saturated vapor</p></td>
</tr>
<tr class="row-even"><td><p>30</p></td>
<td><p>1200</p></td>
<td><p><strong>240.7</strong></p></td>
<td><p><strong>Compressed liquid</strong></p></td>
</tr>
<tr class="row-odd"><td><p><strong>36.92</strong></p></td>
<td><p>2000</p></td>
<td><p>250</p></td>
<td><p><strong>Compressed Liquid</strong></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<span id="document-notebooks/Chapter2/piston-cylinder"></span><section class="tex2jax_ignore mathjax_ignore" id="piston-cylinder-isobaric-process">
<h3>Piston-cylinder: Isobaric process<a class="headerlink" href="#piston-cylinder-isobaric-process" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A piston–cylinder device contains 0.9 kg of steam at 300°C and 0.8 MPa. Steam is cooled at constant pressure until one-third of the mass condenses.
(a) Show the process on a T-v diagram and a P-v diagram
(b) Find the final temperature.
(c) Determine the volume change</p>
<p><img alt="" src="_images/piston-cylinder.png" /></p>
</section>
<section id="a-function-definition-to-help-plot-p-v-diagram">
<h4>A function definition to help plot P-v diagram<a class="headerlink" href="#a-function-definition-to-help-plot-p-v-diagram" title="Permalink to this heading">#</a></h4>
<p>The arguments of this function are supplied inside the paranthesis:</p>
<p>fluid: “Fluid of interest”</p>
<p>state1: [P,v] list</p>
<p>state2: [P,v] list</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_p_v_diagram</span><span class="p">(</span><span class="n">fluid</span><span class="p">,</span> <span class="n">state1</span><span class="p">,</span> <span class="n">state2</span><span class="p">,</span> <span class="n">plot_const_press_line</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="c1"># import the libraries we&#39;ll need</span>
    <span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

    <span class="c1"># define variables</span>
    <span class="n">fluid</span> <span class="o">=</span> <span class="n">fluid</span>  
    <span class="n">T_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tmin&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> 
    <span class="n">T_max</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tcrit&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> 
    <span class="n">T_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_min</span><span class="p">,</span> <span class="n">T_max</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> 
    <span class="n">Q</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">P_saturated_vapor</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span><span class="p">]</span>
    <span class="n">vol_vapor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vol_vapor</span><span class="p">,</span> <span class="n">P_saturated_vapor</span><span class="p">,</span> <span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Vapor&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>

    <span class="n">Q</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">P_saturated_liquid</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span><span class="p">]</span>
    <span class="n">vol_liquid</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span><span class="p">])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vol_liquid</span><span class="p">,</span> <span class="n">P_saturated_liquid</span><span class="p">,</span> <span class="s2">&quot;-g&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Liquid&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [Pa]&quot;</span><span class="p">)</span>  
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Specific Volume (m^3/kg)&quot;</span><span class="p">)</span>  
    
    <span class="c1"># Specific states</span>
    <span class="n">P1</span> <span class="o">=</span> <span class="n">state1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">P2</span> <span class="o">=</span> <span class="n">state2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">state1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P1</span><span class="p">,</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;State 1&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">state2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P2</span><span class="p">,</span> <span class="s2">&quot;or&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;State 2&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">plot_const_press_line</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">P1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;P = constant (</span><span class="si">{}</span><span class="s2"> kPa)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">P1</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="k">def</span> <span class="nf">plot_T_v_diagram</span><span class="p">(</span><span class="n">fluid</span><span class="p">,</span><span class="n">state1</span><span class="p">,</span><span class="n">state2</span><span class="p">,</span><span class="n">plot_const_press_line</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="c1"># import the libraries we&#39;ll need</span>
    <span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


    <span class="c1"># define variables</span>
    <span class="n">fluid</span> <span class="o">=</span> <span class="n">fluid</span>  <span class="c1"># define the fluid or material of interest, for full list see CP.Fluidslist()</span>
    <span class="n">T_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tmin&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># this is the min temp we can get data for water</span>
    <span class="n">T_max</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tcrit&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># this is the max temp we can get data for water</span>
    <span class="n">T_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span>
        <span class="n">T_min</span><span class="p">,</span> <span class="n">T_max</span><span class="p">,</span> <span class="mi">1000</span>
    <span class="p">)</span>  <span class="c1"># define an array of values from T_min to T_max</span>
    <span class="n">Q</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># define the steam quality as 1, which is 100% vapor</span>


    <span class="n">density</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span>
    <span class="p">]</span>  <span class="c1"># call for density values using CoolProp</span>
    <span class="n">vol</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">density</span><span class="p">)</span>  <span class="c1"># convert density into specific volume</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vol</span><span class="p">,</span> <span class="n">T_vals</span><span class="p">,</span> <span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Vapor&quot;</span><span class="p">)</span>  <span class="c1"># plot temp vs specific vol</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>  <span class="c1"># use log scale on x axis</span>


    <span class="n">Q</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># define the steam quality as 0, which is 100% liquid</span>


    <span class="n">density</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span>
    <span class="p">]</span>  <span class="c1"># call for density values using CoolProp</span>
    <span class="n">vol</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">density</span><span class="p">)</span>  <span class="c1"># convert density into specific volume</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vol</span><span class="p">,</span> <span class="n">T_vals</span><span class="p">,</span> <span class="s2">&quot;-g&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Liquid&quot;</span><span class="p">)</span>  <span class="c1"># plot temp vs specific vol</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>  <span class="c1"># use log scale on x axis</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature [K]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Specific Volume (m^3/kg)&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    <span class="c1"># plot various points on the T-v diagram:</span>

    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">state1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">state2</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>  <span class="c1"># specific volume in m3/kg</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">state1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">state2</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>  <span class="c1"># temperature in K</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;State 1&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;or&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;State 2&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">plot_const_press_line</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Plotting the constant pressure line for the given pressure:</span>
        <span class="n">P_const</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">state1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">state1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fluid</span><span class="p">)</span>
        <span class="n">v_vals_constP</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_const</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_vals_constP</span><span class="p">,</span> <span class="n">T_vals</span><span class="p">,</span> <span class="s2">&quot;--k&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;P = constant (</span><span class="si">{}</span><span class="s2"> kPa)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">P_const</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###========== (a) Show the process on a T-v diagram: ================###</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">0.9</span>  <span class="c1"># kg</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">300</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Kelvin</span>
<span class="n">pressure</span> <span class="o">=</span> <span class="mf">0.8e6</span>  <span class="c1"># Pa</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;Water&quot;</span>
<span class="n">final_temp</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">)</span>
<span class="c1">## quality </span>
<span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span>
<span class="c1"># const pressure process:</span>
<span class="n">vol_state1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">)</span>
<span class="n">vol_state2</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">)</span>
<span class="n">state1</span> <span class="o">=</span> <span class="p">[</span><span class="n">vol_state1</span><span class="p">,</span> <span class="n">T</span><span class="p">]</span>
<span class="n">state2</span> <span class="o">=</span> <span class="p">[</span><span class="n">vol_state2</span><span class="p">,</span> <span class="n">final_temp</span><span class="p">]</span>
<span class="c1">## use the following function:</span>
<span class="n">plot_T_v_diagram</span><span class="p">(</span><span class="n">fluid</span><span class="p">,</span><span class="n">state1</span><span class="p">,</span><span class="n">state2</span><span class="p">,</span><span class="n">plot_const_press_line</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plot_p_v_diagram</span><span class="p">(</span><span class="n">fluid</span><span class="p">,</span> <span class="p">[</span><span class="n">pressure</span><span class="p">,</span><span class="n">vol_state1</span><span class="p">],</span> <span class="p">[</span><span class="n">pressure</span><span class="p">,</span><span class="n">vol_state2</span><span class="p">])</span>
<span class="c1">###========== (b) final temperature ================###</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(b) Final temperature : </span><span class="si">{}</span><span class="s2"> °C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">final_temp</span><span class="o">-</span><span class="mf">273.15</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>

<span class="c1">###========== (c) change in Volume ================###</span>
<span class="n">delV</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="p">(</span><span class="n">vol_state2</span> <span class="o">-</span> <span class="n">vol_state1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(c) Vol change: </span><span class="si">{}</span><span class="s2"> m³&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">delV</span><span class="p">,</span><span class="mi">4</span><span class="p">)))</span>
 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c857ed356bd21bc6b53a900af3415c3c24bd086f85873b8f00e333b36a8f4fb0.png" src="_images/c857ed356bd21bc6b53a900af3415c3c24bd086f85873b8f00e333b36a8f4fb0.png" />
<img alt="_images/fe9cec76ce5a77bc470bee78cfca0876e384f7e96eee54a79e59a994e3ca1077.png" src="_images/fe9cec76ce5a77bc470bee78cfca0876e384f7e96eee54a79e59a994e3ca1077.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(b) Final temperature : 170.41 °C
(c) Vol change: -0.219 m³
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter2/piston-cylinder-isobaric-isochoric"></span><section class="tex2jax_ignore mathjax_ignore" id="piston-cylinder-isobaric-isochoric-process">
<h3>Piston-cylinder: Isobaric- Isochoric process<a class="headerlink" href="#piston-cylinder-isobaric-isochoric-process" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A piston-cylinder device contains steam initially at 200 C and 200 kPa. The steam is first cooled isobarically to saturated liquid, then isochorically until its pressure reaches 25 kPa.</p>
<ol class="arabic simple">
<li><p>Sketch the whole process on the P−vand T−v diagrams</p></li>
<li><p>Calculate the specific heat transfer in the whole process</p></li>
</ol>
</section>
<section id="solution-strategy">
<h4>Solution strategy<a class="headerlink" href="#solution-strategy" title="Permalink to this heading">#</a></h4>
<p>Identify the States:
State 1: Initial state - T1=200 C and P1=200kPa
State 2: After isobaric cooling to saturated liquid at P2=200kPa
State 3: After isochoric cooling with V3=V2 and P3=25kPa.</p>
<p>Sketch the Process on P-v and T-v Diagrams:
The process from State 1 to State 2 is a horizontal line on the P-v diagram and a downward slope on the T-v diagram.
The process from State 2 to State 3 is a vertical line downward on the P-v diagram and also a downward slope on the T-v diagram.</p>
<p>Calculate the Specific Heat Transfer:
Using the first law for a closed system:
Δu=q−w
Where:
Δu = Change in internal energy between states.
q = Heat transfer.
w = Work done.
For the isobaric process (State 1 to State 2), w=P(V2−V1).
For the isochoric process (State 2 to State 3), w=0.</p>
<p>Thus, the total heat transfer for the whole process is:
q=Δu+w</p>
<p>Let’s proceed with the code to sketch the diagrams and calculate the specific heat transfer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># Given data</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">350</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in K</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mf">1000e3</span>  <span class="c1"># Initial pressure in Pa</span>
<span class="n">P2</span> <span class="o">=</span> <span class="mf">1000e3</span>  <span class="c1"># Pressure after isobaric cooling in Pa</span>
<span class="n">P3</span> <span class="o">=</span> <span class="mf">25e3</span>  <span class="c1"># Final pressure after isochoric process in Pa</span>

<span class="c1"># State 1 properties</span>
<span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>
<span class="n">u1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>

<span class="c1"># State 2 properties</span>
<span class="n">T2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>  <span class="c1"># Saturated liquid</span>
<span class="n">v2</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>
<span class="n">u2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>

<span class="c1"># State 3 properties (isochoric)</span>
<span class="n">v3</span> <span class="o">=</span> <span class="n">v2</span>
<span class="n">T3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v3</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>
<span class="n">u3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v3</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>

<span class="c1"># Calculate work and heat transfer</span>
<span class="n">w_12</span> <span class="o">=</span> <span class="n">P1</span> <span class="o">*</span> <span class="p">(</span><span class="n">v2</span> <span class="o">-</span> <span class="n">v1</span><span class="p">)</span>  <span class="c1"># Isobaric process</span>
<span class="n">w_23</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Isochoric process</span>
<span class="n">q_12</span> <span class="o">=</span> <span class="p">(</span><span class="n">u2</span> <span class="o">-</span> <span class="n">u1</span><span class="p">)</span> <span class="o">+</span> <span class="n">w_12</span>
<span class="n">q_23</span> <span class="o">=</span> <span class="n">u3</span> <span class="o">-</span> <span class="n">u2</span>  <span class="c1"># Isochoric process so no work</span>
<span class="n">q_total</span> <span class="o">=</span> <span class="p">(</span><span class="n">q_12</span> <span class="o">+</span> <span class="n">q_23</span><span class="p">)</span><span class="o">/</span><span class="mf">1e3</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific heat transfer for the whole process: </span><span class="si">{</span><span class="n">q_total</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> kJ/kg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Specific heat transfer for the whole process: -2754.35 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="process-diagrams">
<h4>Process diagrams:<a class="headerlink" href="#process-diagrams" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Critical properties</span>
<span class="n">P_critical</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Pcrit&quot;</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>
<span class="n">T_critical</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tcrit&quot;</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span>
<span class="n">T_triple</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Ttriple&quot;</span><span class="p">,</span><span class="s2">&quot;water&quot;</span><span class="p">)</span>
<span class="c1"># P-v diagram with dome</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">pressures</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T3</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">),</span> <span class="n">P_critical</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">v_liquid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">pressures</span><span class="p">]</span>
<span class="n">v_vapor</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">pressures</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_liquid</span><span class="p">,</span> <span class="n">pressures</span> <span class="o">/</span> <span class="mf">1e3</span><span class="p">,</span> <span class="s2">&quot;b-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Liquid&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_vapor</span><span class="p">,</span> <span class="n">pressures</span> <span class="o">/</span> <span class="mf">1e3</span><span class="p">,</span> <span class="s2">&quot;r-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Vapor&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">],</span>
    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">P3</span><span class="p">])</span> <span class="o">/</span> <span class="mf">1e3</span><span class="p">,</span>
    <span class="s2">&quot;o-&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
    <span class="n">markerfacecolor</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span>
    <span class="n">v1</span><span class="p">,</span> <span class="n">P1</span> <span class="o">/</span> <span class="mf">1e3</span><span class="p">,</span> <span class="n">v2</span> <span class="o">-</span> <span class="n">v1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;black&quot;</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Specific Volume (m^3/kg)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure (kPa)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;P-v Diagram&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># T-v diagram with dome</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">temperatures</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_triple</span><span class="p">,</span> <span class="n">T_critical</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">v_liquid_T</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">temperatures</span><span class="p">]</span>
<span class="n">v_vapor_T</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">temperatures</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_liquid_T</span><span class="p">,</span> <span class="n">temperatures</span><span class="p">,</span> <span class="s2">&quot;b-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Liquid&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_vapor_T</span><span class="p">,</span> <span class="n">temperatures</span><span class="p">,</span> <span class="s2">&quot;r-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturated Vapor&quot;</span><span class="p">)</span>

<span class="c1"># Isobaric lines for T-v plot</span>
<span class="n">v_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">v_liquid_T</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">v_vapor_T</span><span class="p">)),</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">T_200kPa</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">v_range</span><span class="p">]</span>
<span class="n">T_25kPa</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="mf">25e3</span><span class="p">,</span> <span class="s2">&quot;Water&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">v_range</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_range</span><span class="p">,</span> <span class="n">T_200kPa</span><span class="p">,</span> <span class="s2">&quot;g--&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;p=200kPa&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_range</span><span class="p">,</span> <span class="n">T_25kPa</span><span class="p">,</span> <span class="s2">&quot;m--&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;p=25kPa&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">],</span> <span class="p">[</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">],</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">markerfacecolor</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="c1"># plt.arrow(v1, T1, v2-v1, T2-T1, head_width=0.01, head_length=10, fc=&#39;black&#39;, ec=&#39;black&#39;)</span>
<span class="c1"># plt.arrow(v2, T2, 0, T3-T2, head_width=0.01, head_length=10, fc=&#39;black&#39;, ec=&#39;black&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Specific Volume (m^3/kg)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature (K)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;T-v Diagram&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">300</span><span class="p">,</span> <span class="mi">660</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/22e453b40418984a5197d144362c887672cfd72f3539b1435bc6bf5f67bc9408.png" src="_images/22e453b40418984a5197d144362c887672cfd72f3539b1435bc6bf5f67bc9408.png" />
<img alt="_images/7d70f45afc5d7f919bbdb0834ba9181d7a9eff10d972474e306caf2a2598a234.png" src="_images/7d70f45afc5d7f919bbdb0834ba9181d7a9eff10d972474e306caf2a2598a234.png" />
</div>
</div>
</section>
</section>
</div>
</section>
<span id="document-notebooks/Chapter3/chapter3"></span><section class="tex2jax_ignore mathjax_ignore" id="ideal-and-real-gases">
<h2>3. Ideal and Real Gases<a class="headerlink" href="#ideal-and-real-gases" title="Permalink to this heading">#</a></h2>
<p>This section covers concepts from <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/3-0-chapter-introduction-and-learning-objectives/">Chapter 3 of “Introduction to Engineering Thermodynamics”</a> by Prof. Claire Yu Yan.</p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter3/CH3-Q1_v1"></span><section class="tex2jax_ignore mathjax_ignore" id="ideal-gas-law-air">
<h3>Ideal gas law: Air<a class="headerlink" href="#ideal-gas-law-air" title="Permalink to this heading">#</a></h3>
<p>Imagine <span class="math notranslate nohighlight">\(1\:kg\)</span> of air confined in a space of <span class="math notranslate nohighlight">\(1\:m^3\)</span> volume. If the air is kept at room temperature, assuming ideal gas law applies to air in this case,</p>
<p>a) calculate air pressure in <span class="math notranslate nohighlight">\(kPa\)</span>?</p>
<p>b) what if the temperature increases to <span class="math notranslate nohighlight">\(100 ^{\circ} C\)</span>?</p>
<p>c) what if <span class="math notranslate nohighlight">\(1\:kg\)</span> air is added to the same compartment?</p>
<p>d) what if the space within which the air in kept is compressed to decrease the volume to <span class="math notranslate nohighlight">\(0.8\:m^3\)</span></p>
<section id="solution-approach-for-a">
<h4>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h4>
<p>the ideal gas law is an equation of state (EOS) which helps with predicting the state of a materiasl based on its properties Pressure <span class="math notranslate nohighlight">\((P)\)</span>, specifiv volume <span class="math notranslate nohighlight">\((v)\)</span>, and temperature <span class="math notranslate nohighlight">\((T)\)</span> as following:</p>
<p><span class="math notranslate nohighlight">\(Pv=RT\)</span> ,which can also be written as <br>
<span class="math notranslate nohighlight">\(PV=mRT\)</span> where <span class="math notranslate nohighlight">\(m\)</span> is the mass of the material</p>
<p>to calculate pressure: <br>
<span class="math notranslate nohighlight">\(P=mRT/V\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining variables</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#mass of air in kg</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.287</span> <span class="c1">#air gas constant in kJ/kg.K</span>
<span class="n">V</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#volume of air in m3</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#room temperature in K</span>

<span class="c1"># using ideal gas equation of state to calculate pressure</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V</span> <span class="c1">#air pressure in kPa</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air pressure is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air pressure is: 85.6 kPa
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h4>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h4>
<p>for part b, the temperature increases to <span class="math notranslate nohighlight">\(100 ^{\circ} C\)</span>. As a result, an increase in pressure is expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#increased room temperature in K</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V</span> <span class="c1">#air pressure in kPa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air pressure is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air pressure is: 107.1 kPa
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-c">
<h4>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h4>
<p>for part c, the number of air molecules increases. As a result, an increase in pressure is expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">#increased mass of air in kg</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V</span> <span class="c1">#air pressure in kPa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air pressure is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air pressure is: 214.2 kPa
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-d">
<h4>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h4>
<p>for part c, the volume of air decreases resulting in more air molecules per unit volume. As a result, an increase in pressure is expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V</span> <span class="o">=</span> <span class="mf">0.8</span> <span class="c1">#compressed volume of air in m3</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V</span> <span class="c1">#air pressure in kPa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air pressure is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air pressure is: 267.7 kPa
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter3/CH3-Q2_v1"></span><section class="tex2jax_ignore mathjax_ignore" id="thermo-mechanical-equilibrium-partitions-in-a-box">
<h3>Thermo-mechanical Equilibrium: Partitions in a Box<a class="headerlink" href="#thermo-mechanical-equilibrium-partitions-in-a-box" title="Permalink to this heading">#</a></h3>
<p>consider a box of <span class="math notranslate nohighlight">\(5\:m^3\)</span> volume composed of three isolated compartments A, B and C containing air in three diffrent states. Part A contains <span class="math notranslate nohighlight">\(0.5\:kg\)</span> air at <span class="math notranslate nohighlight">\(200\:kPa\)</span>. Part B measure <span class="math notranslate nohighlight">\(25 ^{\circ} C\)</span> in temperature, <span class="math notranslate nohighlight">\(100\:kPa\)</span> is pressure and occupies <span class="math notranslate nohighlight">\(1\:m^3\)</span> of space. Finally, part C contains <span class="math notranslate nohighlight">\(2\:kg\)</span> of the same materials at a temperature of <span class="math notranslate nohighlight">\(15 ^{\circ} C\)</span> and a pressure of <span class="math notranslate nohighlight">\(50\:kPa\)</span>.</p>
<p>Assuming ideal gas law for air in these states, calculate:</p>
<p>a) volume of air in partition C</p>
<p>b) volume of partition A</p>
<p>c) mass of air in partition B</p>
<p>d) temperature of air in partition A in <span class="math notranslate nohighlight">\(^{\circ}  C\)</span></p>
<p>e) now imagine all the seperators break and air in three compartments mix together. What would be the final pressure if the box is let to get in thermal stability with room temperature?</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-a">
<h3>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h3>
<p>ideal gas equation can be used as EOS since the assumption is valid as per the statement, so</p>
<p><span class="math notranslate nohighlight">\(PV=mRT\)</span> <br>
<span class="math notranslate nohighlight">\(V=mRT/P\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining variables and looking up tables</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.287</span> <span class="c1">#air gas constant in kJ/kg.K</span>
<span class="n">m_C</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">#mass of air in partition c in kg</span>
<span class="n">T_C</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature of air in partc in K</span>
<span class="n">P_C</span> <span class="o">=</span> <span class="mi">50</span> <span class="c1">#pressure of air in partition c in kPa</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">V_C</span> <span class="o">=</span> <span class="n">m_C</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T_C</span> <span class="o">/</span> <span class="n">P_C</span> <span class="c1">#volume of partition c in m3</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air volume in partition C is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_C</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air volume in partition C is: 3.3 m3
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-b">
<h3>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h3>
<p>The box is composed of three partitions, therefore:</p>
<p><span class="math notranslate nohighlight">\(V_A+V_B+V_C=5\:m^3\)</span> <br>
<span class="math notranslate nohighlight">\(V_A=5-V_B-V_C\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V_B</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#volume of partition B in m3</span>
<span class="n">V_A</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">-</span> <span class="n">V_B</span> <span class="o">-</span> <span class="n">V_C</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air volume in partition A is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_A</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air volume in partition A is: 0.692 m3
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-c">
<h3>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h3>
<p>from ideal gas law</p>
<p><span class="math notranslate nohighlight">\(m=PV/{RT}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining state variables</span>
<span class="n">P_B</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#pressure of air in partition b in kPa</span>
<span class="n">V_B</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#volume of partition b in m3</span>
<span class="n">T_B</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature of air in partition b in K</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">m_B</span> <span class="o">=</span> <span class="n">P_B</span> <span class="o">*</span> <span class="n">V_B</span> <span class="o">/</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">T_B</span><span class="p">)</span> <span class="c1">#mass of air in partiton b in kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The mass of air in partition B is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_B</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The mass of air in partition B is: 1.2 kg
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-d">
<h3>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h3>
<p>from ideal gas law</p>
<p><span class="math notranslate nohighlight">\(T=PV/{mR}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining state variables</span>
<span class="n">P_A</span> <span class="o">=</span> <span class="mi">200</span> <span class="c1">#pressure of air in partition a in kPa</span>
<span class="n">m_A</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1">#mass of air in partiton a in kg</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">T_A</span> <span class="o">=</span> <span class="n">P_A</span> <span class="o">*</span> <span class="n">V_A</span> <span class="o">/</span> <span class="p">(</span><span class="n">m_A</span> <span class="o">*</span> <span class="n">R</span><span class="p">)</span> <span class="c1">#temperature of air in partition a in K</span>

<span class="c1">#converting from Kelvins to Celsius</span>
<span class="n">T_AC</span> <span class="o">=</span> <span class="n">T_A</span> <span class="o">-</span> <span class="mf">273.15</span> <span class="c1">#temperature of air in partition a in C</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The temperature of air in partition A is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">T_AC</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;Degrees Celcius&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The temperature of air in partition A is: 691.4 Degrees Celcius
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-e">
<h3>Solution Approach for e)<a class="headerlink" href="#solution-approach-for-e" title="Permalink to this heading">#</a></h3>
<p>referring to ideal gas law equation of state,</p>
<p><span class="math notranslate nohighlight">\(P=mRT/V\)</span></p>
<p>The temperature would be in <span class="math notranslate nohighlight">\(25 ^{\circ} C\)</span> since the box is in thermal stability with room temperature.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining/calculating state variables</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#final temperature of air in K</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">m_A</span> <span class="o">+</span> <span class="n">m_B</span> <span class="o">+</span> <span class="n">m_C</span> <span class="c1">#final mass of the mixture</span>
<span class="n">V</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1">#total volume of the box in m3</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V</span> <span class="c1">#final pressure of the mixture in kPa</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The final pressure of mixed air is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The final pressure of mixed air is: 62.8 kPa
</pre></div>
</div>
</div>
</div>
</section>
<span id="document-notebooks/Chapter3/CH3-Q3_edited_edited"></span><section class="tex2jax_ignore mathjax_ignore" id="piston-cylinder-system-for-air">
<h3>Piston-cylinder system for Air<a class="headerlink" href="#piston-cylinder-system-for-air" title="Permalink to this heading">#</a></h3>
<p>Consider <span class="math notranslate nohighlight">\(2\:kg\)</span> air at <span class="math notranslate nohighlight">\(200\:kPa\)</span> and <span class="math notranslate nohighlight">\(25 ^{\circ}  C\)</span> stored in a cylinder-piston system which is in thermal equilibrium with its surrounding. Assuming air at this state as ideal gas,</p>
<p>a) calculate how much space does air occupy in this state</p>
<p>b) if the piston is moved to compress air to half its initial volume at constant temperature, calculate the final air pressurea</p>
<p>c) plot the process on P-V, P-T and T-V diagrams.</p>
<section id="solution-approach-for-a">
<h4>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h4>
<p>ideal gas equation can be used as EOS since the assumption is valid as per the statement, so</p>
<p><span class="math notranslate nohighlight">\(PV=mRT\)</span> <br>
<span class="math notranslate nohighlight">\(V=mRT/P\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining variables and looking up tables</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.287</span> <span class="c1">#air gas constant in kJ/kg.K</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">#mass of air in kg</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature of air in K</span>
<span class="n">P</span> <span class="o">=</span> <span class="mi">200</span> <span class="c1">#pressure of airc in kPa</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">V_1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">P</span> <span class="c1">#volume of air in m3</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The air volume is:&#39;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">V_1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;m3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The air volume is: 0.856 m3
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h4>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h4>
<p>The box is compressed to half its initial volume therefore <span class="math notranslate nohighlight">\(V_2=V_1/2\)</span> and temperature remains constant as per the question’s statement.</p>
<p>Ideal gas equation solved for pressure (P) is to be used to calculate pressure.</p>
<p><span class="math notranslate nohighlight">\(P=mRT/V\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V_2</span> <span class="o">=</span> <span class="n">V_1</span> <span class="o">/</span> <span class="mi">2</span> <span class="c1">#volume of air after compression</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V_2</span> <span class="c1">#final pressure of the mixture in kPa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Secondary air pressure is:&#39;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="s1">&#39;kPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Secondary air pressure is: 400.0 kPa
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-c">
<h4>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h4>
<p>for a P-v diagram, the ideal gas equation is to be used in a form in which pressure(<span class="math notranslate nohighlight">\(P\)</span>) and volume(<span class="math notranslate nohighlight">\(v\)</span>) are the variables calculated one based on the other one.</p>
<p><span class="math notranslate nohighlight">\(P=mRT(1/V)\)</span></p>
<p>where mRT would be a constant value</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#building a range for volume (v) so that pressure (P) is calculated based upon </span>
<span class="n">V_max</span> <span class="o">=</span> <span class="n">V_1</span> <span class="c1">#maximum amount for volume in the process</span>
<span class="n">V_min</span> <span class="o">=</span> <span class="n">V_2</span> <span class="c1">#minimum amount for volume in the process</span>
<span class="n">V_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">V_min</span><span class="p">,</span> <span class="n">V_max</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for volume (v)</span>

<span class="c1">#calculating pressure (P) for the array of volume values (V_vals)</span>
<span class="n">P_vals</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">V_vals</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">)</span>  <span class="c1"># plot pressure vs. volume</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [kPa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Volume [m3]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>


<span class="c1">#add-ons to illustrate process path</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">190</span><span class="p">,</span> <span class="mi">425</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.87</span><span class="p">,</span> <span class="mi">198</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.42</span><span class="p">,</span> <span class="mi">410</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">P_vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f6a345b4bb0&gt;]
</pre></div>
</div>
<img alt="_images/9c591140b4937334eeb083f2b8250e11d0d5903120aedd73839d9766bc2b850d.png" src="_images/9c591140b4937334eeb083f2b8250e11d0d5903120aedd73839d9766bc2b850d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#building temperature range to plot P-T and V_T diagrams</span>
<span class="n">T_C</span> <span class="o">=</span> <span class="n">T</span> <span class="o">-</span> <span class="mf">273.15</span> <span class="c1">#process temperature in Celsius</span>
<span class="n">T_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_C</span><span class="p">,</span> <span class="n">T_C</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for temperature (T)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">)</span>  <span class="c1"># plot pressure vs. temperature</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [kPa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Temperature [C]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>

<span class="c1">#add-ons to illustrate process path</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mf">24.5</span><span class="p">,</span> <span class="mf">25.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">420</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">25.02</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">25.02</span><span class="p">,</span> <span class="mi">407</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">P_vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f6a33cac280&gt;]
</pre></div>
</div>
<img alt="_images/22a8b5defd8698f356c6cf128a02fad1848e5c5da2bafa54ade1395108a51b0f.png" src="_images/22a8b5defd8698f356c6cf128a02fad1848e5c5da2bafa54ade1395108a51b0f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals</span><span class="p">,</span><span class="n">T_vals</span><span class="p">)</span>  <span class="c1"># plot volume vs. temperature</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature [$^{\circ}$ C]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Volume [m3]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>

<span class="c1">#add-ons to illustrate process path</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.86</span><span class="p">,</span> <span class="mf">25.05</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.41</span><span class="p">,</span> <span class="mf">25.05</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">T_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">T_vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f6a33ca2a00&gt;]
</pre></div>
</div>
<img alt="_images/5d49f1159a1c91ad11050883713a1fb086e19a1a1676dffd19d2b1bf5be1075a.png" src="_images/5d49f1159a1c91ad11050883713a1fb086e19a1a1676dffd19d2b1bf5be1075a.png" />
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter3/CH3-Q4_v1"></span><section class="tex2jax_ignore mathjax_ignore" id="isobaric-isochoric-process-nitrogen-as-ideal-gas">
<h3>Isobaric-Isochoric process: Nitrogen as Ideal gas<a class="headerlink" href="#isobaric-isochoric-process-nitrogen-as-ideal-gas" title="Permalink to this heading">#</a></h3>
<p>Consider <span class="math notranslate nohighlight">\(1\:kg\)</span> of Nitrogen stored in a piston-cylinder system sitting at atmospheric pressure and temperature (<span class="math notranslate nohighlight">\(101\:kPa\)</span> and <span class="math notranslate nohighlight">\(25 ^{\circ}  C\)</span>). The system undergoes a thermodynamic cycle where its pressure is doubled through an isothermal process. Following the isothermal compression comes an isobaric expansion followed by an isochoric process to get Nitrogen to its initial state at <span class="math notranslate nohighlight">\(101\:kPa\)</span> and <span class="math notranslate nohighlight">\(25 ^{\circ}  C\)</span>. Assuming Nitrogen to be ideal gas, plot P-V, P-T, and T-V diagrams for this process.</p>
<section id="solution-approach">
<h4>Solution Approach<a class="headerlink" href="#solution-approach" title="Permalink to this heading">#</a></h4>
<p>Let’s associate each state with a number to be able to progess in an organized way.</p>
<p>The initial state being (1) where</p>
<p><span class="math notranslate nohighlight">\(P_1=101\:kPa\)</span> and <span class="math notranslate nohighlight">\(T_1=25^{\circ}  C\)</span></p>
<p>Followed by an isothermal process where the pressure is doules to reach state (2) where</p>
<p><span class="math notranslate nohighlight">\(P_2=2P_1\)</span> and <span class="math notranslate nohighlight">\(T_2=T_1=25^{\circ}  C\)</span></p>
<p>Followed by an isobaric process to reach point (3) where</p>
<p><span class="math notranslate nohighlight">\(P_3=2P_2\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(V_3=V_1\)</span></p>
<p>because the following process from (3) back to (1) is isochoric where the volume keeps constant.</p>
<p>To Calculate <span class="math notranslate nohighlight">\(V_1\)</span> the ideal gas equation of state shall be used where</p>
<p><span class="math notranslate nohighlight">\(V=mRT/P\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#defining variables and looking up tables</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.2968</span> <span class="c1">#Nitrogen gas constant in kJ/kg.K</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#mass of Nitrogen in kg</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature of Nitrogen in K</span>
<span class="n">P_1</span> <span class="o">=</span> <span class="mi">101</span> <span class="c1">#pressure of Nitrogen in kPa</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">V_1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T_1</span> <span class="o">/</span> <span class="n">P_1</span> <span class="c1">#volume of Nitrogen in m3</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The volume of Nitrogen at its initial state is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_1</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The volume of Nitrogen at its initial state is: 0.876 m3
</pre></div>
</div>
</div>
</div>
<p>Then Nitrogen goes through an isothermal compression to double its pressure.</p>
<p>given mass(<span class="math notranslate nohighlight">\(m\)</span>), gas constant (<span class="math notranslate nohighlight">\(R\)</span>) and temperature (<span class="math notranslate nohighlight">\(T\)</span>) are constant,</p>
<p><span class="math notranslate nohighlight">\(P_2V_2=P_1V_1=mRT_1(orT_2)\)</span></p>
<p>therefore</p>
<p><span class="math notranslate nohighlight">\(V_2=P_1V_1/P_2\)</span></p>
<p>where</p>
<p><span class="math notranslate nohighlight">\(P_2=2P_1\)</span></p>
<p>therfore</p>
<p><span class="math notranslate nohighlight">\(V_2=V_1/2\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#calculating variables at the second state</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">P_1</span> <span class="c1">#pressure of Nitrogen in kPa</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">T_1</span> <span class="c1">#temperature of Nitrogen in K</span>
<span class="n">V_2</span> <span class="o">=</span> <span class="n">V_1</span> <span class="o">/</span> <span class="mi">2</span> <span class="c1">#volume of Nitrogen in m3 at the second state</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The volume of Nitrogen at its second state is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_2</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The volume of Nitrogen at its second state is: 0.438 m3
</pre></div>
</div>
</div>
</div>
<p>To calculate temperature at the third state, ideal gas equation of state is to be used as</p>
<p><span class="math notranslate nohighlight">\(T_3=P_3V_3/{mR}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##calculating variables at the third state</span>
<span class="n">P_3</span> <span class="o">=</span> <span class="n">P_2</span> <span class="c1">#pressure of Nitrogen in kPa</span>
<span class="n">V_3</span> <span class="o">=</span> <span class="n">V_1</span> <span class="c1">#volume of Nitrogen in m3 at the third state</span>

<span class="c1">#using ideal gas law equation of state</span>
<span class="n">T_3</span> <span class="o">=</span> <span class="n">P_3</span> <span class="o">*</span> <span class="n">V_3</span> <span class="o">/</span> <span class="p">(</span><span class="n">m</span> <span class="o">*</span> <span class="n">R</span><span class="p">)</span> <span class="c1">#temperature of air in partition a in K</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The temperature of Nitrogen at the third state is:&#39;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The temperature of Nitrogen at the third state is: 596.3 K
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##plotting P_V</span>
<span class="c1">#import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#defining arrays of V values for 1-2</span>
<span class="n">V_vals12</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">V_1</span><span class="p">,</span> <span class="n">V_2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for volume (v) for the process 1 to 2</span>
<span class="c1">#calculating pressure (P) for the array of volume values (V_vals12)</span>
<span class="n">P_vals12</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T_1</span> <span class="o">/</span> <span class="n">V_vals12</span>

<span class="c1">#defining arrays of V values for 2-3</span>
<span class="n">V_vals23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">V_2</span><span class="p">,</span> <span class="n">V_3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for volume (v) for the process 2 to 3</span>
<span class="c1">#associated constant pressure for the process 2-3</span>
<span class="n">P_vals23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_2</span><span class="p">,</span> <span class="n">P_3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1">#defining arrays of P values for 3-1</span>
<span class="n">P_vals31</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_3</span><span class="p">,</span> <span class="n">P_1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for pressure (P) for the process 2 to 3</span>
<span class="c1">#associated constant volume for the process 3-1</span>
<span class="n">V_vals31</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">V_3</span><span class="p">,</span> <span class="n">V_1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals12</span><span class="p">,</span> <span class="n">P_vals12</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isothermal&#39;</span><span class="p">)</span>  <span class="c1"># plot pressure vs. volume</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals23</span><span class="p">,</span> <span class="n">P_vals23</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isobaric&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals31</span><span class="p">,</span> <span class="n">P_vals31</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isochoric&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [kPa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Volume [m3]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>

<span class="c1">#add-ons to illustrate process path</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.88</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.42</span><span class="p">,</span> <span class="mi">207</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.88</span><span class="p">,</span> <span class="mi">207</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals12</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals12</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals23</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals23</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V_vals31</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals31</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f28f6191c40&gt;]
</pre></div>
</div>
<img alt="_images/e0606e4c50a16d709d0ac7060183832e701e891b366fb3418ae4b6a770792ced.png" src="_images/e0606e4c50a16d709d0ac7060183832e701e891b366fb3418ae4b6a770792ced.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##plotting P_T</span>
<span class="c1">#defining arrays of T values for 1-2</span>
<span class="n">T_vals12</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_1</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for temperature (T) for the process 1 to 2</span>

<span class="c1">#defining arrays of T values for 2-3</span>
<span class="n">T_vals23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_2</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for temperature (T) for the process 2 to 3</span>

<span class="c1">#defining arrays of T values for 3-1</span>
<span class="n">T_vals31</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_3</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values for temperature (T) for the process 3 to 1</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals12</span><span class="p">,</span> <span class="n">P_vals12</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isothermal&#39;</span><span class="p">)</span>  <span class="c1"># plot pressure vs. volume</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals23</span><span class="p">,</span> <span class="n">P_vals23</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isobaric&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals31</span><span class="p">,</span> <span class="n">P_vals31</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isochoric&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [kPa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Temperature [K]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>

<span class="c1">#add-ons to illustrate process path</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">280</span><span class="p">,</span> <span class="mi">615</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span> <span class="mi">215</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">288</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">288</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">604</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals12</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals12</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals23</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals23</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals31</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P_vals31</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f28f58a2d30&gt;]
</pre></div>
</div>
<img alt="_images/c8ab35ac96a298d52de1ec0d1cf0c1ebbb0df2361d6d3f9b76864775cde7b294.png" src="_images/c8ab35ac96a298d52de1ec0d1cf0c1ebbb0df2361d6d3f9b76864775cde7b294.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##plotting T_V</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals12</span><span class="p">,</span> <span class="n">V_vals12</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isothermal&#39;</span><span class="p">)</span>  <span class="c1"># plot pressure vs. volume</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals23</span><span class="p">,</span> <span class="n">V_vals23</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isobaric&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals31</span><span class="p">,</span> <span class="n">V_vals31</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;isochoric&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Volume [m3]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Temperature [K]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>

<span class="c1">#add-ons to illustrate process path</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">280</span><span class="p">,</span> <span class="mi">615</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mf">0.38</span><span class="p">,</span> <span class="mf">0.92</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">288</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">288</span><span class="p">,</span> <span class="mf">0.40</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">602</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals12</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">V_vals12</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals23</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">V_vals23</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals31</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">V_vals31</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f28f57c7a60&gt;]
</pre></div>
</div>
<img alt="_images/cfb686cad76ddae592c52903070c4b8a774275dde86fb0b53483370bd456fc61.png" src="_images/cfb686cad76ddae592c52903070c4b8a774275dde86fb0b53483370bd456fc61.png" />
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter3/CH3-Q5_v1"></span><section class="tex2jax_ignore mathjax_ignore" id="lee-kesler-compressibility-factor">
<h3>Lee - Kesler Compressibility factor<a class="headerlink" href="#lee-kesler-compressibility-factor" title="Permalink to this heading">#</a></h3>
<p>The following reference is the paper upon which the Lee-Kesler compressibility factor is generated.</p>
<p><a class="reference external" href="https://aiche.onlinelibrary.wiley.com/doi/abs/10.1002/aic.690210313">Reference for Lee-Kesler compressibility factor</a></p>
<p>a)Try to reproduce a python code to regenerate the compressibility factor curve based on reduced pressure (<span class="math notranslate nohighlight">\(P_r\)</span>) for reduced temperature (<span class="math notranslate nohighlight">\(T_r\)</span>) equal to <span class="math notranslate nohighlight">\(1.5\)</span>.</p>
<p>b) Calculate the compressibility factor for <span class="math notranslate nohighlight">\(T_r = 1.5\)</span> and <span class="math notranslate nohighlight">\(P_r = 3\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importing required library</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#introducing P_r and T_r</span>
<span class="n">T_r</span> <span class="o">=</span> <span class="mf">1.5</span>

<span class="c1">#introducing constants</span>
<span class="n">b1</span> <span class="o">=</span> <span class="mf">0.1181193</span>
<span class="n">b2</span> <span class="o">=</span> <span class="mf">0.265728</span>
<span class="n">b3</span> <span class="o">=</span> <span class="mf">0.154790</span>
<span class="n">b4</span> <span class="o">=</span> <span class="mf">0.030323</span>
<span class="n">c1</span> <span class="o">=</span> <span class="mf">0.0236744</span>
<span class="n">c2</span> <span class="o">=</span> <span class="mf">0.0186984</span>
<span class="n">c3</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">c4</span> <span class="o">=</span> <span class="mf">0.042724</span>
<span class="n">d1</span> <span class="o">=</span> <span class="mf">0.155488E-4</span>
<span class="n">d2</span> <span class="o">=</span> <span class="mf">0.623689E-4</span>
<span class="n">betha</span> <span class="o">=</span> <span class="mf">0.65392</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="mf">0.060167</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">b1</span> <span class="o">-</span> <span class="n">b2</span><span class="o">/</span><span class="n">T_r</span> <span class="o">-</span> <span class="n">b3</span><span class="o">/</span><span class="n">T_r</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">b4</span><span class="o">/</span><span class="n">T_r</span><span class="o">**</span><span class="mi">3</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="o">/</span><span class="n">T_r</span> <span class="o">+</span> <span class="n">c3</span><span class="o">/</span><span class="n">T_r</span><span class="o">**</span><span class="mi">3</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span><span class="o">/</span><span class="n">T_r</span>

<span class="c1">#V_r in an array structure</span>
<span class="c1"># an array of V_r is to be built so that Z is calculated based upon. Otherwise, the equation can&#39;t be solved analytically for V_r</span>
<span class="n">V_r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.65</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> 
<span class="n">Z_array</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">B</span><span class="o">/</span><span class="n">V_r</span> <span class="o">+</span> <span class="n">C</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">D</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">5</span> <span class="o">+</span> <span class="n">c4</span><span class="o">*</span><span class="p">(</span><span class="n">betha</span> <span class="o">+</span> <span class="n">gamma</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">gamma</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">T_r</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">V_r</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#Lee-Kesler equation</span>
<span class="n">P_r_array</span> <span class="o">=</span> <span class="n">Z_array</span> <span class="o">*</span> <span class="n">T_r</span> <span class="o">/</span> <span class="n">V_r</span> <span class="c1">#calculating P_r based on the array built for V_r</span>

<span class="c1">#Plotting</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">P_r_array</span><span class="p">,</span><span class="n">Z_array</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Reduced Pressure Pr&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Compressibility Factor Z&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Compressibility Factor Z&#39;)
</pre></div>
</div>
<img alt="_images/be4f818b6f7c69b7b475d2a2e75270bcd872197ca656296fca5c5b06ea8dc35f.png" src="_images/be4f818b6f7c69b7b475d2a2e75270bcd872197ca656296fca5c5b06ea8dc35f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">P_r</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1">#finding the index of the array element in P_r_array which is closest to the desired P_r value</span>
<span class="n">difference_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="n">P_r_array</span><span class="o">-</span><span class="n">P_r</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">difference_array</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">Z_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The compressibility factor value for P_r =&#39;</span><span class="p">,</span><span class="n">P_r</span><span class="p">,</span> <span class="s1">&#39;and T_r =&#39;</span><span class="p">,</span> <span class="n">T_r</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Z</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The compressibility factor value for P_r = 3 and T_r = 1.5 is 0.789
</pre></div>
</div>
</div>
</div>
</section>
<span id="document-notebooks/Chapter3/CH3-Q6_v1"></span><section class="tex2jax_ignore mathjax_ignore" id="ideal-gas-assumption-for-water">
<h3>Ideal gas assumption for Water<a class="headerlink" href="#ideal-gas-assumption-for-water" title="Permalink to this heading">#</a></h3>
<p>Imagine <span class="math notranslate nohighlight">\(1\:kg\)</span> of water vapor at <span class="math notranslate nohighlight">\(2\:MPa\)</span> and <span class="math notranslate nohighlight">\(400 ^{\circ}  C\)</span>. Calculate its volume based on the following. Calculate the error in percents.</p>
<p>a) thermodynamic tables using coolprop</p>
<p>b) ideal gas assumption</p>
<p>c) ideal gas equation of state coupled with compressibility factor (<span class="math notranslate nohighlight">\(Z\)</span>)</p>
<p>d) pinpoint the water at this state on its phase diagram and monitor the ideal gas assumption error based on the distance from the triple point</p>
<section id="solution-approach-for-a">
<h4>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importing the required library</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">2E+6</span> <span class="c1">#pressure of wator vapor in Pa</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">400</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#water vapor temperature in K</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#mass of water vapor in kg</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span> <span class="c1">#calculating density using coolprop kg/m</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="n">D</span> <span class="c1">#volume occupied m3</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The volume of water wapor based on thermodynamic tables is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;m3&#39;</span><span class="p">)</span>

<span class="c1">## this value is treated as reference for error calculation since it&#39;s based on experiments</span>
<span class="n">V_ref</span> <span class="o">=</span> <span class="n">V</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The volume of water wapor based on thermodynamic tables is 0.151 m3
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h4>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h4>
<p>To Calculate <span class="math notranslate nohighlight">\(V\)</span> the ideal gas equation of state shall be used where</p>
<p><span class="math notranslate nohighlight">\(V=mRT/P\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#introducing constant R</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.4615</span> <span class="c1">#Steam gas constant in kJ/kg.K</span>
<span class="n">P_kpa</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="mi">1000</span> <span class="c1">#pressure need to be in KPa to be consistent in ideal gas equation</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">P_kpa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The volume of water wapor based on ideal gas correlation is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;m3&#39;</span><span class="p">)</span>

<span class="c1">#calculating error</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">V</span><span class="o">-</span><span class="n">V_ref</span><span class="p">)</span><span class="o">/</span><span class="n">V_ref</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The error based on ideal gas correlation is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">E</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The volume of water wapor based on ideal gas correlation is 0.155 m3
The error based on ideal gas correlation is 2.721 %
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-c">
<h4>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Introducing critical values</span>
<span class="n">P_crit</span> <span class="o">=</span> <span class="mf">22.06</span> <span class="c1">#critical pressure for water in MPa</span>
<span class="n">T_crit</span> <span class="o">=</span> <span class="mf">647.1</span> <span class="c1">#critical temperature for water in k</span>

<span class="c1">#calculating reduced pressure and temperature</span>
<span class="n">P_r</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="mf">22.06E+6</span> <span class="c1">#reduced pressure</span>
<span class="n">T_r</span> <span class="o">=</span> <span class="n">T</span> <span class="o">/</span> <span class="n">T_crit</span>  <span class="c1">#reduced temperature</span>

<span class="c1">#now the code for Question#5 in this chapter is used to calculate compressibility factor (Z)</span>
<span class="c1">#importing required library</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#introducing constants</span>
<span class="n">b1</span> <span class="o">=</span> <span class="mf">0.1181193</span>
<span class="n">b2</span> <span class="o">=</span> <span class="mf">0.265728</span>
<span class="n">b3</span> <span class="o">=</span> <span class="mf">0.154790</span>
<span class="n">b4</span> <span class="o">=</span> <span class="mf">0.030323</span>
<span class="n">c1</span> <span class="o">=</span> <span class="mf">0.0236744</span>
<span class="n">c2</span> <span class="o">=</span> <span class="mf">0.0186984</span>
<span class="n">c3</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">c4</span> <span class="o">=</span> <span class="mf">0.042724</span>
<span class="n">d1</span> <span class="o">=</span> <span class="mf">0.155488E-4</span>
<span class="n">d2</span> <span class="o">=</span> <span class="mf">0.623689E-4</span>
<span class="n">betha</span> <span class="o">=</span> <span class="mf">0.65392</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="mf">0.060167</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">b1</span> <span class="o">-</span> <span class="n">b2</span><span class="o">/</span><span class="n">T_r</span> <span class="o">-</span> <span class="n">b3</span><span class="o">/</span><span class="n">T_r</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">b4</span><span class="o">/</span><span class="n">T_r</span><span class="o">**</span><span class="mi">3</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="o">/</span><span class="n">T_r</span> <span class="o">+</span> <span class="n">c3</span><span class="o">/</span><span class="n">T_r</span><span class="o">**</span><span class="mi">3</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span><span class="o">/</span><span class="n">T_r</span>

<span class="c1">#V_r in an array structure</span>
<span class="c1"># an array of V_r is to be built so that Z is calculated based upon. Otherwise, the equation can&#39;t be solved analytically for V_r</span>
<span class="n">V_r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.65</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> 
<span class="n">Z_array</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">B</span><span class="o">/</span><span class="n">V_r</span> <span class="o">+</span> <span class="n">C</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">D</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">5</span> <span class="o">+</span> <span class="n">c4</span><span class="o">*</span><span class="p">(</span><span class="n">betha</span> <span class="o">+</span> <span class="n">gamma</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">gamma</span><span class="o">/</span><span class="n">V_r</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">T_r</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">V_r</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#Lee-Kesler equation</span>
<span class="n">P_r_array</span> <span class="o">=</span> <span class="n">Z_array</span> <span class="o">*</span> <span class="n">T_r</span> <span class="o">/</span> <span class="n">V_r</span> <span class="c1">#calculating P_r based on the array built for V_r</span>

<span class="c1">#finding the index of the array element in P_r_array which is closest to the desired P_r value</span>
<span class="n">difference_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="n">P_r_array</span><span class="o">-</span><span class="n">P_r</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">difference_array</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">Z_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The compressibility factor value for P_r =&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P_r</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;and T_r =&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">T_r</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Z</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The compressibility factor value for P_r = 0.091 and T_r = 1.040 is 0.973
</pre></div>
</div>
</div>
</div>
<p>Looking at compressibility factor,</p>
<p><span class="math notranslate nohighlight">\(Z=Pv/RT=PV/mRT\)</span></p>
<p>rearranging for V,</p>
<p><span class="math notranslate nohighlight">\(V=ZmRT/P\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">*</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">/</span> <span class="n">P_kpa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The volume of water wapor based on ideal gas correlation coupled with compressibiity factor is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;m3&#39;</span><span class="p">)</span>

<span class="c1">#calculating error</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">V</span><span class="o">-</span><span class="n">V_ref</span><span class="p">)</span><span class="o">/</span><span class="n">V_ref</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The error based on ideal gas correlation coupled with compressibiity factor is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">E</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The volume of water wapor based on ideal gas correlation coupled with compressibiity factor is 0.151 m3
The error based on ideal gas correlation coupled with compressibiity factor is 0.082 %
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-d">
<h4>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define variables</span>
<span class="n">Q</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># define the steam quality as 1, which is 100% vapor</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>  <span class="c1"># define the fluid or material of interest, for full list see CP.Fluidslist()</span>
<span class="n">T_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tmin&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># this is the triple-point temp we can get data for water</span>
<span class="n">P_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_min</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># triple-point temp for pressure</span>
<span class="n">T_max</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tcrit&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># this is the max temp we can get data for water</span>
<span class="n">T_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">T_min</span><span class="p">,</span> <span class="n">T_max</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values from T_min to T_max</span>

<span class="n">pressure</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">T_vals</span><span class="p">]</span>  <span class="c1"># call for pressure values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_vals</span><span class="o">-</span><span class="mf">273.15</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="s2">&quot;--b&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturation Line&quot;</span><span class="p">)</span>  <span class="c1"># plot temp vs specific vol</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>  <span class="c1"># use log scale on x axis</span>

<span class="c1">## something interesting happenning -- why does Saturated liq and vapor P-T curve fall into the same curve?</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Temperature [C]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [Pa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>

<span class="c1"># plot various points on the T-v diagram:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="s1">&#39;or&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;State&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T_min</span><span class="o">-</span><span class="mf">273.15</span><span class="p">,</span><span class="n">P_min</span><span class="p">,</span><span class="s1">&#39;og&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Triple Point&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7fec037114f0&gt;
</pre></div>
</div>
<img alt="_images/e48c6614db95715554ed23053f2646510f9075f6cd8062fa0db691f5e2462564.png" src="_images/e48c6614db95715554ed23053f2646510f9075f6cd8062fa0db691f5e2462564.png" />
</div>
</div>
</section>
</section>
</div>
</section>
<span id="document-notebooks/Chapter4/first-law"></span><section class="tex2jax_ignore mathjax_ignore" id="the-first-law-of-thermodynamics-for-closed-systems">
<h2>4. The First Law of Thermodynamics for Closed Systems<a class="headerlink" href="#the-first-law-of-thermodynamics-for-closed-systems" title="Permalink to this heading">#</a></h2>
<p>This Chapter goes through concepts from Chapter 4 from here: <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/4-0-chapter-introduction-and-learning-objectives/">https://pressbooks.bccampus.ca/thermo1/chapter/4-0-chapter-introduction-and-learning-objectives/</a>
Using the first law, internal energy, work done and heat supplied/rejected are calculated for various senarios.</p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter4/Thermodynamics_Example_2"></span><section class="tex2jax_ignore mathjax_ignore" id="piston-cylinder-isothermal-expansion">
<h3>Piston-cylinder: isothermal expansion<a class="headerlink" href="#piston-cylinder-isothermal-expansion" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A cylinder fitted with a frictionless piston contains 1 kg of oxygen gas at an initial temperature of 20°C
and a volume of 0.8 m³. The gas undergoes an isothermal expansion until its volume doubles.
During the process, the cylinder is in thermal contact with a heat reservoir at 20°C.</p>
<p>Calculate the following:</p>
<ol class="arabic simple">
<li><p>The specific boundary work done by the oxygen gas during the expansion.</p></li>
<li><p>The amount of heat transferred to the gas during this process.</p></li>
<li><p>Assuming the specific internal energy of oxygen changes due to the process, calculate the change in specific internal energy.</p></li>
</ol>
<p>For the calculations, assume that oxygen behaves as an ideal gas and use its specific properties.
Also, consider that the process is isothermal, meaning the temperature remains constant throughout the process.</p>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Solution:</span>

<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Gas choice</span>
<span class="n">gas</span> <span class="o">=</span> <span class="s2">&quot;Oxygen&quot;</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># Mass of the gas in kg</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in Kelvin (converted from 20°C)</span>
<span class="n">V1</span> <span class="o">=</span> <span class="mf">0.8</span>  <span class="c1"># Initial volume in m^3</span>
<span class="n">V2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">V1</span>  <span class="c1"># Final volume (double the initial volume)</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;GAS_CONSTANT&#39;</span><span class="p">,</span> <span class="n">gas</span><span class="p">)</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;MOLAR_MASS&#39;</span><span class="p">,</span> <span class="n">gas</span><span class="p">)</span>  <span class="c1"># Specific gas constant for Oxygen</span>

<span class="c1"># 1. Specific Boundary Work (w_boundary)</span>
<span class="c1"># For an isothermal process, P1 * V1 = P2 * V2 (Ideal Gas Law), and P1 can be found from P1 = m * R * T1 / V1</span>
<span class="n">P1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T1</span> <span class="o">/</span> <span class="n">V1</span>
<span class="c1"># Calculating the boundary work</span>
<span class="n">w_boundary</span> <span class="o">=</span> <span class="n">P1</span> <span class="o">*</span> <span class="n">V1</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">V2</span> <span class="o">/</span> <span class="n">V1</span><span class="p">)</span>

<span class="c1"># 2. Heat Transfer (Q)</span>
<span class="c1"># For an isothermal process, the heat transfer is equal to the boundary work done</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">w_boundary</span>

<span class="c1"># 3. Change in Specific Internal Energy (Δu)</span>
<span class="c1"># For an isothermal process of an ideal gas, Δu = 0</span>
<span class="n">delta_u</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Specific Boundary Work (w_boundary): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">w_boundary</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Heat Transfer (Q): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">Q</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Change in Specific Internal Energy (Δu): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">delta_u</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Specific Boundary Work (w_boundary): 52.8 kJ
Heat Transfer (Q): 52.8 kJ
Change in Specific Internal Energy (Δu): 0.0 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Isochoric_Process_Problem_3"></span><section class="tex2jax_ignore mathjax_ignore" id="isochoric-process-for-a-gas">
<h3>Isochoric Process for a Gas<a class="headerlink" href="#isochoric-process-for-a-gas" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>Consider a container with a fixed volume of 0.3 m³ that initially contains helium gas at a temperature of 15°C
and a pressure of 100 kPa. The gas undergoes an isochoric (constant volume) heating process until its pressure triples.
Calculate:</p>
<ol class="arabic simple">
<li><p>The final temperature of the helium gas.</p></li>
<li><p>The change in internal energy of the gas during this process, assuming the specific heat at constant volume (Cv) is known.</p></li>
<li><p>The total heat transfer to the helium gas.</p></li>
</ol>
<p>Use the ideal gas law and assume helium behaves as an ideal gas.</p>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Given values</span>
<span class="n">V</span> <span class="o">=</span> <span class="mf">0.3</span>  <span class="c1"># Volume in m^3</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in Kelvin</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">100000</span>  <span class="c1"># Initial pressure in Pa (100 kPa)</span>
<span class="n">P2</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">P1</span>  <span class="c1"># Final pressure (tripled)</span>
<span class="n">gas</span> <span class="o">=</span> <span class="s1">&#39;Helium&#39;</span>

<span class="c1"># 1. Final Temperature (T2)</span>
<span class="c1"># Since the process is isochoric, P1/T1 = P2/T2 (Ideal Gas Law)</span>
<span class="n">T2</span> <span class="o">=</span> <span class="n">P2</span> <span class="o">*</span> <span class="n">T1</span> <span class="o">/</span> <span class="n">P1</span>

<span class="c1"># 2. Change in internal energy (Δu)</span>
<span class="n">Cv</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cvmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">gas</span><span class="p">)</span>  <span class="c1"># Cv for helium</span>
<span class="n">delta_u</span> <span class="o">=</span> <span class="n">Cv</span> <span class="o">*</span> <span class="p">(</span><span class="n">T2</span> <span class="o">-</span> <span class="n">T1</span><span class="p">)</span>

<span class="c1"># 3. Total heat transfer (Q)</span>
<span class="c1"># For an isochoric process, Q = Δu (First Law of Thermodynamics)</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">delta_u</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final Temperature (T2): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">T2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> K&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Change in internal energy (Δu): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">delta_u</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total heat transfer (Q): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">Q</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final Temperature (T2): 864.5 K
Change in internal energy (Δu): 1795.8 kJ
Total heat transfer (Q): 1795.8 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Adiabatic_Compression_Problem_4"></span><section class="tex2jax_ignore mathjax_ignore" id="adiabatic-compression-of-an-ideal-gas">
<h3>Adiabatic Compression of an Ideal Gas<a class="headerlink" href="#adiabatic-compression-of-an-ideal-gas" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A piston-cylinder device initially contains 2 kg of air at 25°C and 1 atm.
The air is compressed adiabatically to one-eighth of its original volume.
Calculate:</p>
<ol class="arabic simple">
<li><p>The final temperature and pressure of the air.</p></li>
<li><p>The work done during this adiabatic compression process.</p></li>
<li><p>Assuming air behaves as an ideal gas with a specific heat ratio (γ), determine the change in internal energy.</p></li>
</ol>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># Mass of air in kg</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in Kelvin</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">101325</span>  <span class="c1"># Initial pressure in Pa (1 atm)</span>
<span class="n">V1</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># Initial volume (arbitrary value)</span>
<span class="n">V2</span> <span class="o">=</span> <span class="n">V1</span> <span class="o">/</span> <span class="mi">8</span>  <span class="c1"># Final volume (one-eighth of initial)</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cpmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Air&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cvmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Air&#39;</span><span class="p">)</span>  <span class="c1"># γ for air</span>

<span class="c1"># 1. Final Temperature and Pressure (T2, P2)</span>
<span class="c1"># For adiabatic process, T1 * V1^(gamma - 1) = T2 * V2^(gamma - 1)</span>
<span class="n">T2</span> <span class="o">=</span> <span class="n">T1</span> <span class="o">*</span> <span class="p">(</span><span class="n">V1</span> <span class="o">/</span> <span class="n">V2</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># P2 using the adiabatic relation P2 * V2^gamma = P1 * V1^gamma</span>
<span class="n">P2</span> <span class="o">=</span> <span class="n">P1</span> <span class="o">*</span> <span class="p">(</span><span class="n">V1</span> <span class="o">/</span> <span class="n">V2</span><span class="p">)</span> <span class="o">**</span> <span class="n">gamma</span>

<span class="c1"># 2. Work done (W)</span>
<span class="c1"># For adiabatic process, W = (P1 * V1 - P2 * V2) / (gamma - 1)</span>
<span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">P1</span> <span class="o">*</span> <span class="n">V1</span> <span class="o">-</span> <span class="n">P2</span> <span class="o">*</span> <span class="n">V2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># 3. Change in internal energy (Δu)</span>
<span class="c1"># Δu = Q - W, but for adiabatic process, Q = 0</span>
<span class="n">delta_u</span> <span class="o">=</span> <span class="o">-</span><span class="n">W</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final Temperature (T2): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">T2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> K&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final Pressure (P2): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">P2</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kPa&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Work done (W): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">W</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Change in internal energy (Δu): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">delta_u</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final Temperature (T2): 687.5 K
Final Pressure (P2): 1869.1 kPa
Work done (W): -329.3 kJ
Change in internal energy (Δu): 329.3 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Heat_Transfer_Rigid_Container_Problem_5"></span><section class="tex2jax_ignore mathjax_ignore" id="heat-transfer-in-a-rigid-container">
<h3>Heat Transfer in a Rigid Container<a class="headerlink" href="#heat-transfer-in-a-rigid-container" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A rigid container is initially filled with 0.5 kg of carbon dioxide at 20°C and 100 kPa.
The container is then heated until the temperature of the gas reaches 80°C.
Calculate the amount of heat transferred to the carbon dioxide and the change in its internal energy.</p>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># Mass of carbon dioxide in kg</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in Kelvin</span>
<span class="n">T2</span> <span class="o">=</span> <span class="mi">80</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Final temperature in Kelvin</span>
<span class="n">gas</span> <span class="o">=</span> <span class="s1">&#39;CarbonDioxide&#39;</span>

<span class="c1"># 1. Change in internal energy (Δu)</span>
<span class="n">Cv</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cvmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="n">gas</span><span class="p">)</span>  <span class="c1"># Cv for carbon dioxide</span>
<span class="n">delta_u</span> <span class="o">=</span> <span class="n">Cv</span> <span class="o">*</span> <span class="p">(</span><span class="n">T2</span> <span class="o">-</span> <span class="n">T1</span><span class="p">)</span> <span class="o">*</span> <span class="n">m</span>

<span class="c1"># Convert delta_u to kJ and round to one decimal point</span>
<span class="n">delta_u_kJ</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">delta_u</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># 2. Total heat transfer (Q)</span>
<span class="c1"># For a rigid container, Q = Δu (First Law of Thermodynamics)</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">delta_u</span>

<span class="c1"># Convert Q to kJ and round to one decimal point</span>
<span class="n">Q_kJ</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">Q</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Change in internal energy (Δu): </span><span class="si">{</span><span class="n">delta_u_kJ</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total heat transfer (Q): </span><span class="si">{</span><span class="n">Q_kJ</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Change in internal energy (Δu): 19.6 kJ
Total heat transfer (Q): 19.6 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Helium_Spring_Loaded_Cylinder_Problem_6"></span><section class="tex2jax_ignore mathjax_ignore" id="helium-in-a-spring-loaded-cylinder">
<h3>Helium in a Spring-Loaded Cylinder<a class="headerlink" href="#helium-in-a-spring-loaded-cylinder" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A spring-loaded piston-cylinder device contains 0.3 kg of helium.
Initially, the helium is at 25°C and 150 kPa, and the spring is uncompressed.
The system is heated until the pressure doubles and the volume increases by 20%.
Calculate the work done by the helium on the spring and the total heat added to the system.</p>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">0.3</span>  <span class="c1"># Mass of helium in kg</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in Kelvin</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">150000</span>  <span class="c1"># Initial pressure in Pa</span>

<span class="c1"># Calculate the initial volume using the density</span>
<span class="n">V1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Helium&#39;</span><span class="p">)</span>  
<span class="n">V2</span> <span class="o">=</span> <span class="n">V1</span> <span class="o">*</span> <span class="mf">1.2</span>  <span class="c1"># Final volume (20% increase)</span>
<span class="n">P2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">P1</span>  <span class="c1"># Final pressure (doubled)</span>

<span class="c1"># Polytropic exponent for helium</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cpmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Helium&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cvmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Helium&#39;</span><span class="p">)</span>

<span class="c1"># Calculate final temperature T2 using the polytropic process relation</span>
<span class="n">T2</span> <span class="o">=</span> <span class="n">T1</span> <span class="o">*</span> <span class="p">(</span><span class="n">P2</span> <span class="o">/</span> <span class="n">P1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">V1</span> <span class="o">/</span> <span class="n">V2</span><span class="p">)</span><span class="o">**</span><span class="n">n</span>

<span class="c1"># Calculate work done by the helium (W)</span>
<span class="k">if</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">P2</span> <span class="o">*</span> <span class="n">V2</span> <span class="o">-</span> <span class="n">P1</span> <span class="o">*</span> <span class="n">V1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">W</span> <span class="o">=</span> <span class="n">P1</span> <span class="o">*</span> <span class="n">V1</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">V2</span> <span class="o">/</span> <span class="n">V1</span><span class="p">)</span>

<span class="c1"># Convert W to kJ and round to 1 decimal place</span>
<span class="n">W_kJ</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">W</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Calculate the total heat added (Q)</span>
<span class="n">Cv</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cvmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Helium&#39;</span><span class="p">)</span>
<span class="n">delta_U</span> <span class="o">=</span> <span class="n">Cv</span> <span class="o">*</span> <span class="p">(</span><span class="n">T2</span> <span class="o">-</span> <span class="n">T1</span><span class="p">)</span> <span class="o">*</span> <span class="n">m</span>

<span class="c1"># Convert delta_U to kJ and round to 1 decimal place</span>
<span class="n">delta_U_kJ</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">delta_U</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Q is the sum of delta_U and W, converted to kJ and rounded</span>
<span class="n">Q_kJ</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">delta_U</span> <span class="o">+</span> <span class="n">W</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final Temperature (T2): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">T2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> K&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Work done by the helium (W): </span><span class="si">{</span><span class="n">W_kJ</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total heat added (Q): </span><span class="si">{</span><span class="n">Q_kJ</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Change in Internal Energy (ΔU): </span><span class="si">{</span><span class="n">delta_U_kJ</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final Temperature (T2): 440.1 K
Work done by the helium (W): -390.6 kJ
Total heat added (Q): -257.9 kJ
Change in Internal Energy (ΔU): 132.7 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Isothermal_Expansion_Nitrogen_Problem_7"></span><section class="tex2jax_ignore mathjax_ignore" id="isothermal-expansion-of-nitrogen">
<h3>Isothermal Expansion of Nitrogen<a class="headerlink" href="#isothermal-expansion-of-nitrogen" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A cylinder with a movable piston contains 1 kg of nitrogen at 100 kPa and 300 K.
It undergoes an isothermal expansion until the volume triples.
Calculate the boundary work done during this process and the heat transfer involved.</p>
</section>
<section id="solution">
<h4>Solution:<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># Mass of nitrogen in kg</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># Temperature in Kelvin (constant)</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">100000</span>  <span class="c1"># Initial pressure in Pa</span>
<span class="n">V1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Dmolar&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Nitrogen&#39;</span><span class="p">)</span>  <span class="c1"># Initial volume using density</span>
<span class="n">V2</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">V1</span>  <span class="c1"># Final volume (tripled)</span>

<span class="c1"># 1. Boundary work (W)</span>
<span class="c1"># For isothermal process, W = nRT ln(V2/V1)</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;GAS_CONSTANT&#39;</span><span class="p">,</span> <span class="s1">&#39;Nitrogen&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;MOLAR_MASS&#39;</span><span class="p">,</span> <span class="s1">&#39;Nitrogen&#39;</span><span class="p">)</span>
<span class="n">W</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">V2</span> <span class="o">/</span> <span class="n">V1</span><span class="p">)</span>

<span class="c1"># 2. Heat transfer (Q)</span>
<span class="c1"># For an isothermal process, Q = W</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">W</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Boundary work done (W): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">W</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Heat transfer (Q): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">Q</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Boundary work done (W): 97.8 kJ
Heat transfer (Q): 97.8 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Adiabatic_Compression_Rigid_Container_Problem_8"></span><section class="tex2jax_ignore mathjax_ignore" id="adiabatic-compression-in-a-rigid-container">
<h3>Adiabatic Compression in a Rigid Container<a class="headerlink" href="#adiabatic-compression-in-a-rigid-container" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>A rigid container with 2 kg of oxygen is initially at 1 atm and 25°C.
The oxygen is compressed adiabatically until the pressure increases to 5 atm.
Calculate the final temperature, the work done on the gas, and the change in internal energy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Given values</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># Mass of oxygen in kg</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span>  <span class="c1"># Initial temperature in Kelvin</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">101325</span>  <span class="c1"># Initial pressure in Pa (1 atm)</span>
<span class="n">P2</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">P1</span>  <span class="c1"># Final pressure (5 atm)</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cpmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Oxygen&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;Cvmass&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;Oxygen&#39;</span><span class="p">)</span>  <span class="c1"># γ for oxygen</span>

<span class="c1"># Final Temperature (T2) for adiabatic process</span>
<span class="n">T2</span> <span class="o">=</span> <span class="n">T1</span> <span class="o">*</span> <span class="p">(</span><span class="n">P2</span> <span class="o">/</span> <span class="n">P1</span><span class="p">)</span> <span class="o">**</span> <span class="p">((</span><span class="n">gamma</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">gamma</span><span class="p">)</span>

<span class="c1"># Calculate specific volumes V1 and V2 using ideal gas law</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;GAS_CONSTANT&#39;</span><span class="p">,</span> <span class="s1">&#39;Oxygen&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;MOLAR_MASS&#39;</span><span class="p">,</span> <span class="s1">&#39;Oxygen&#39;</span><span class="p">)</span>  <span class="c1"># Specific gas constant for Oxygen</span>
<span class="n">V1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T1</span> <span class="o">/</span> <span class="n">P1</span>
<span class="n">V2</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">*</span> <span class="n">T2</span> <span class="o">/</span> <span class="n">P2</span>

<span class="c1"># Calculate work done (W) during adiabatic process</span>
<span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">P1</span> <span class="o">*</span> <span class="n">V1</span> <span class="o">-</span> <span class="n">P2</span> <span class="o">*</span> <span class="n">V2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Change in internal energy (ΔU) for adiabatic process</span>
<span class="n">delta_U</span> <span class="o">=</span> <span class="o">-</span><span class="n">W</span>

<span class="c1"># Output the results (W and ΔU in kJ)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final Temperature (T2): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">T2</span><span class="p">)</span><span class="si">}</span><span class="s2"> K&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Work done (W): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">W</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Change in internal energy (ΔU): </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">delta_U</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> kJ&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final Temperature (T2): 471 K
Work done (W): -226.3 kJ
Change in internal energy (ΔU): 226.3 kJ
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fluid</span> <span class="o">=</span> <span class="s1">&#39;Oxygen&#39;</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># Calculate entropy at initial and final states</span>
<span class="n">S1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>
<span class="n">S2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">S1</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">S2</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">],</span> <span class="p">[</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">],</span> <span class="s1">&#39;ro-&#39;</span><span class="p">)</span>  <span class="c1"># Adiabatic process</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Entropy (kJ/kg.K)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperature (K)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;T-s Diagram for Adiabatic Compression of Oxygen&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fa3eb7720e16c3b8f97c881e59b6c479bfc356023478a3a4456fd8b52ef49632.png" src="_images/fa3eb7720e16c3b8f97c881e59b6c479bfc356023478a3a4456fd8b52ef49632.png" />
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/linear-interpolation-nternal-energy"></span><section class="tex2jax_ignore mathjax_ignore" id="linear-interpolation-for-internal-energy-of-superheated-water">
<h3>Linear interpolation for Internal energy of Superheated water<a class="headerlink" href="#linear-interpolation-for-internal-energy-of-superheated-water" title="Permalink to this heading">#</a></h3>
<p>A function named “linear_interpolation” is defined, arguments of the same are T1, T2 (the two ends of the temperatures), T (the temperature at which a property needs to be interpolated) and Prop1, Prop2 are the proeprty values at T1 and T2.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">linear_interpolation</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
    <span class="c1"># Function to interpolate between two known points</span>
    <span class="k">return</span> <span class="n">y1</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A function named “calculate_relative_error” is defined, arguments of the same are x1, x2 (the two ends of the input variable), x (the x-value at which a property needs to be interpolated) and y1, y2 are the property values at x1 and x2.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_relative_error</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">):</span>
    <span class="c1"># Calculate the interpolated value</span>
    <span class="n">y_interpolated</span> <span class="o">=</span> <span class="n">linear_interpolation</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
    
    <span class="c1"># Get the value from CoolProp</span>
    <span class="n">y_coolprop</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>  <span class="c1"># Convert from J/kg to kJ/kg</span>
    
    <span class="c1"># Calculate absolute and relative errors</span>
    <span class="n">absolute_error</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y_coolprop</span> <span class="o">-</span> <span class="n">y_interpolated</span><span class="p">)</span>
    <span class="n">relative_error</span> <span class="o">=</span> <span class="p">(</span><span class="n">absolute_error</span> <span class="o">/</span> <span class="n">y_coolprop</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
    
    <span class="k">return</span> <span class="n">relative_error</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="c1"># Example usage from Superheated water:</span>
<span class="c1"># https://pressbooks.bccampus.ca/thermo1/back-matter/thermodynamic-properties-of-water/#TA2</span>
<span class="n">T1</span><span class="p">,</span> <span class="n">T2</span> <span class="o">=</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">150</span>  <span class="c1"># Temperatures in K</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">10e3</span>  <span class="c1"># in Pa</span>
<span class="n">U1</span><span class="p">,</span> <span class="n">U2</span> <span class="o">=</span> <span class="mf">2515.49</span><span class="p">,</span> <span class="mf">2587.91</span>  <span class="c1"># Properties in SI units</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>
<span class="n">T</span> <span class="o">=</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">133</span>  <span class="c1"># Temperature at which we want the interpolated property</span>
<span class="n">Prop_interpolated</span> <span class="o">=</span> <span class="n">linear_interpolation</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">U1</span><span class="p">,</span> <span class="n">U2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Interpolated property at </span><span class="si">{}</span><span class="s2"> K: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">Prop_interpolated</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>


<span class="n">cool_prop</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>  <span class="c1">## in kJ/kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Property from CoolProp at </span><span class="si">{}</span><span class="s2"> K: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">cool_prop</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>

<span class="n">absolute_difference</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">cool_prop</span> <span class="o">-</span> <span class="n">Prop_interpolated</span><span class="p">)</span>
<span class="n">percentage_difference</span> <span class="o">=</span> <span class="p">(</span><span class="n">absolute_difference</span> <span class="o">/</span> <span class="n">Prop_interpolated</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Relative difference :</span><span class="si">{}</span><span class="s2"> %&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">percentage_difference</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Interpolated property at 406.15 K: 2563.29 kJ/kg
Property from CoolProp at 406.15 K: 2563.19 kJ/kg
Relative difference :0.0036 %
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="linear-interpolation-for-internal-energy-of-r-134a-refrigerant">
<h3>Linear interpolation for Internal energy of R-134a refrigerant<a class="headerlink" href="#linear-interpolation-for-internal-energy-of-r-134a-refrigerant" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>


<span class="c1"># Example usage from Superheated R134a:</span>
<span class="c1"># https://pressbooks.bccampus.ca/thermo1/back-matter/thermodynamic-properties-of-r134a/#TC2</span>
<span class="n">T1</span><span class="p">,</span> <span class="n">T2</span> <span class="o">=</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">40</span><span class="p">,</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">50</span>  <span class="c1"># Temperatures in K</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">100e3</span>  <span class="c1"># in Pa</span>
<span class="n">U1</span><span class="p">,</span> <span class="n">U2</span> <span class="o">=</span> <span class="mf">412.4</span><span class="p">,</span> <span class="mf">420.37</span>  <span class="c1"># Properties in SI units</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134a&quot;</span>
<span class="n">T</span> <span class="o">=</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">43</span>  <span class="c1"># Temperature at which we want the interpolated property</span>
<span class="n">Prop_interpolated</span> <span class="o">=</span> <span class="n">linear_interpolation</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">U1</span><span class="p">,</span> <span class="n">U2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Interpolated property at </span><span class="si">{}</span><span class="s2"> K: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">Prop_interpolated</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>


<span class="n">cool_prop</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>  <span class="c1">## in kJ/kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Property from CoolProp at </span><span class="si">{}</span><span class="s2"> K: </span><span class="si">{}</span><span class="s2"> kJ/kg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">cool_prop</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>

<span class="n">absolute_difference</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">cool_prop</span> <span class="o">-</span> <span class="n">Prop_interpolated</span><span class="p">)</span>
<span class="n">percentage_difference</span> <span class="o">=</span> <span class="p">(</span><span class="n">absolute_difference</span> <span class="o">/</span> <span class="n">Prop_interpolated</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Relative difference :</span><span class="si">{}</span><span class="s2"> %&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">percentage_difference</span><span class="p">,</span><span class="mi">4</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Interpolated property at 316.15 K: 414.79 kJ/kg
Property from CoolProp at 316.15 K: 414.77 kJ/kg
Relative difference :0.0046 %
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Constants</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">10e3</span>  <span class="c1"># Pressure in Pa</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134a&quot;</span>
<span class="n">T_target</span> <span class="o">=</span> <span class="mf">273.15</span> <span class="o">+</span> <span class="mi">135</span>  <span class="c1"># Target temperature for property evaluation</span>

<span class="c1"># Range of interval sizes</span>
<span class="n">interval_sizes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">relative_errors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop over interval sizes and calculate relative errors</span>
<span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">interval_sizes</span><span class="p">:</span>
    <span class="n">T1</span> <span class="o">=</span> <span class="n">T_target</span> <span class="o">-</span> <span class="n">interval</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">T2</span> <span class="o">=</span> <span class="n">T_target</span> <span class="o">+</span> <span class="n">interval</span> <span class="o">/</span> <span class="mi">2</span>
    
    <span class="c1"># Get properties from CoolProp for the interval boundaries</span>
    <span class="n">U1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>
    <span class="n">U2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>
    
    <span class="c1"># Calculate relative error</span>
    <span class="n">error</span> <span class="o">=</span> <span class="n">calculate_relative_error</span><span class="p">(</span><span class="n">T_target</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">U1</span><span class="p">,</span> <span class="n">U2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>
    <span class="n">relative_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="a-plot-to-illustrate-the-relative-error-as-a-function-of-size-of-interval-of-input">
<h3>A plot to illustrate the relative error as a function of size of interval of input<a class="headerlink" href="#a-plot-to-illustrate-the-relative-error-as-a-function-of-size-of-interval-of-input" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotting</span>
<span class="c1"># Plotting with logarithmic scale and improved aesthetics</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Sets the figure size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">interval_sizes</span><span class="p">,</span> <span class="n">relative_errors</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Relative Error&#39;</span><span class="p">)</span>  <span class="c1"># Adds color, line style, and markers</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Size of Temperature Interval (K)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Relative Error (%)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Relative Error vs. Temperature Interval Size&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1">#plt.xscale(&#39;log&#39;)  # Logarithmic scale for the x-axis</span>
<span class="c1">#plt.yscale(&#39;log&#39;)  # Logarithmic scale for the y-axis</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Adds gridlines for both major and minor ticks and customizes their style</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>  <span class="c1"># Adjust the size of the axis ticks labels</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>  <span class="c1"># Adjusts subplot params so that the subplot(s) fits in to the figure area</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/51c27da274678323ba2837a5bc01999272f6c36550bafd87be7751b5d05a157b.png" src="_images/51c27da274678323ba2837a5bc01999272f6c36550bafd87be7751b5d05a157b.png" />
</div>
</div>
</section>
<span id="document-notebooks/Chapter4/use_different_references_in_CoolProp"></span><section class="tex2jax_ignore mathjax_ignore" id="reference-states-in-thermodynamics">
<h3>Reference States in Thermodynamics<a class="headerlink" href="#reference-states-in-thermodynamics" title="Permalink to this heading">#</a></h3>
<p>In thermodynamics, a reference state serves as a baseline or zero point for measuring thermodynamic properties such as enthalpy (H) and entropy (S). Choosing different reference states doesn’t affect the differences in properties calculated using different states of a substance.</p>
<p>For substances such as refrigerants (e.g., R-134a), commonly used reference states include the Normal Boiling Point (NBP) and the International Institute of Refrigeration (IIR) standard:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NBP: It sets the enthalpy and entropy at the boiling point of the substance under 1 atmosphere to zero. This is a common reference for refrigerants.

IIR: This reference state, set by the International Institute of Refrigeration, defines the enthalpy and entropy at 0°C and a pressure where the liquid is saturated to be zero for refrigerants.

For refrigerants, the ASHRAE reference state typically sets a specific point where the enthalpy and entropy are defined to be zero. This point is the saturated liquid state at a specified temperature, often associated with a standard condition such as under a temperature of -40°C or -40°F. (This is what is being followed in the textbook!)
</pre></div>
</div>
<p>Despite the reference state chosen, the differences in enthalpy (ΔH) and entropy (ΔS) between two defined states of R-134a remain the same. These differences are intrinsic and are not influenced by the reference points, as you’ll observe in the CoolProp calculations that follow.</p>
<section id="problem-statement">
<h4>Problem statement:<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>Use threee different references and calculate absolute and relative differences of S, H for R134a refigerant fluid.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## add internal energy as another property</span>
<span class="c1">## make it clear what the textbook uses, in this case it is ASHRAE. A note at the end would be great.</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution">
<h4>Solution<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># Define two states for R-134a</span>
<span class="n">T1</span> <span class="o">=</span> <span class="mi">280</span>  <span class="c1"># Temperature in K for state 1</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">101325</span>  <span class="c1"># Pressure in Pa for state 1 (1 atm)</span>
<span class="n">T2</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># Temperature in K for state 2</span>
<span class="n">P2</span> <span class="o">=</span> <span class="mi">200000</span>  <span class="c1"># Pressure in Pa for state 2</span>

<span class="c1"># Set the IIR reference state</span>
<span class="n">CP</span><span class="o">.</span><span class="n">set_reference_state</span><span class="p">(</span><span class="s1">&#39;R134a&#39;</span><span class="p">,</span> <span class="s1">&#39;IIR&#39;</span><span class="p">)</span>

<span class="c1"># Calculate enthalpy and entropy for both states with the IIR reference</span>
<span class="n">h1_iir</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">s1_iir</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">h2_iir</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">s2_iir</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 

<span class="c1"># Calculate differences with IIR reference</span>
<span class="n">dh_iir</span> <span class="o">=</span> <span class="p">(</span><span class="n">h2_iir</span> <span class="o">-</span> <span class="n">h1_iir</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
<span class="n">ds_iir</span> <span class="o">=</span> <span class="p">(</span><span class="n">s2_iir</span> <span class="o">-</span> <span class="n">s1_iir</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>

<span class="c1"># Set the NBP reference state</span>
<span class="n">CP</span><span class="o">.</span><span class="n">set_reference_state</span><span class="p">(</span><span class="s1">&#39;R134a&#39;</span><span class="p">,</span> <span class="s1">&#39;NBP&#39;</span><span class="p">)</span>

<span class="c1"># Calculate enthalpy and entropy for both states with the NBP reference</span>
<span class="n">h1_nbp</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">s1_nbp</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">h2_nbp</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">s2_nbp</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 

<span class="c1"># Calculate differences with NBP reference</span>
<span class="n">dh_nbp</span> <span class="o">=</span> <span class="p">(</span><span class="n">h2_nbp</span> <span class="o">-</span> <span class="n">h1_nbp</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
<span class="n">ds_nbp</span> <span class="o">=</span> <span class="p">(</span><span class="n">s2_nbp</span> <span class="o">-</span> <span class="n">s1_nbp</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>

<span class="c1"># Set the ASHRAE reference state</span>
<span class="n">CP</span><span class="o">.</span><span class="n">set_reference_state</span><span class="p">(</span><span class="s1">&#39;R134a&#39;</span><span class="p">,</span> <span class="s1">&#39;ASHRAE&#39;</span><span class="p">)</span>

<span class="c1"># Calculate enthalpy and entropy for both states with the ASHRAE reference</span>
<span class="n">h1_ashrae</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">s1_ashrae</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">h2_ashrae</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 
<span class="n">s2_ashrae</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="s1">&#39;R134a&#39;</span><span class="p">)</span> 

<span class="c1"># Calculate differences with ASHRAE reference</span>
<span class="n">dh_ashrae</span> <span class="o">=</span> <span class="p">(</span><span class="n">h2_ashrae</span> <span class="o">-</span> <span class="n">h1_ashrae</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
<span class="n">ds_ashrae</span> <span class="o">=</span> <span class="p">(</span><span class="n">s2_ashrae</span> <span class="o">-</span> <span class="n">s1_ashrae</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Properties at T = 280 K and P = 1 bar&quot;</span><span class="p">)</span>
<span class="c1"># Print statements for each state</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;IIR Reference State:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 1 Enthalpy (kJ/kg): </span><span class="si">{</span><span class="n">h1_iir</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 1 Entropy (kJ/kgK): </span><span class="si">{</span><span class="n">s1_iir</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 2 Enthalpy (kJ/kg): </span><span class="si">{</span><span class="n">h2_iir</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 2 Entropy (kJ/kgK): </span><span class="si">{</span><span class="n">s2_iir</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enthalpy Difference (kJ/kg): </span><span class="si">{</span><span class="n">dh_iir</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Entropy Difference (kJ/kgK): </span><span class="si">{</span><span class="n">ds_iir</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NBP Reference State:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 1 Enthalpy (kJ/kg): </span><span class="si">{</span><span class="n">h1_nbp</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 1 Entropy (kJ/kgK): </span><span class="si">{</span><span class="n">s1_nbp</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 2 Enthalpy (kJ/kg): </span><span class="si">{</span><span class="n">h2_nbp</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 2 Entropy (kJ/kgK): </span><span class="si">{</span><span class="n">s2_nbp</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enthalpy Difference (kJ/kg): </span><span class="si">{</span><span class="n">dh_nbp</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Entropy Difference (kJ/kgK): </span><span class="si">{</span><span class="n">ds_nbp</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ASHRAE Reference State:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 1 Enthalpy (kJ/kg): </span><span class="si">{</span><span class="n">h1_ashrae</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 1 Entropy (kJ/kgK): </span><span class="si">{</span><span class="n">s1_ashrae</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 2 Enthalpy (kJ/kg): </span><span class="si">{</span><span class="n">h2_ashrae</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State 2 Entropy (kJ/kgK): </span><span class="si">{</span><span class="n">s2_ashrae</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enthalpy Difference (kJ/kg): </span><span class="si">{</span><span class="n">dh_ashrae</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Entropy Difference (kJ/kgK): </span><span class="si">{</span><span class="n">ds_ashrae</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Properties at T = 280 K and P = 1 bar
IIR Reference State:
State 1 Enthalpy (kJ/kg): 409.317
State 1 Entropy (kJ/kgK): 1.848
State 2 Enthalpy (kJ/kg): 424.282
State 2 Entropy (kJ/kgK): 1.846
Enthalpy Difference (kJ/kg): 14.965
Entropy Difference (kJ/kgK): -0.002

NBP Reference State:
State 1 Enthalpy (kJ/kg): 243.507
State 1 Entropy (kJ/kgK): 0.979
State 2 Enthalpy (kJ/kg): 258.472
State 2 Entropy (kJ/kgK): 0.977
Enthalpy Difference (kJ/kg): 14.965
Entropy Difference (kJ/kgK): -0.002

ASHRAE Reference State:
State 1 Enthalpy (kJ/kg): 261.173
State 1 Entropy (kJ/kgK): 1.052
State 2 Enthalpy (kJ/kg): 276.138
State 2 Entropy (kJ/kgK): 1.050
Enthalpy Difference (kJ/kg): 14.965
Entropy Difference (kJ/kgK): -0.002
</pre></div>
</div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Reference</p></th>
<th class="head"><p>State</p></th>
<th class="head"><p>Enthalpy (kJ/kg)</p></th>
<th class="head"><p>Entropy (kJ/(kg·K))</p></th>
<th class="head"><p>ΔH (kJ/kg)</p></th>
<th class="head"><p>ΔS (kJ/(kg·K))</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IIR</p></td>
<td><p>1(280 K, 1bar)</p></td>
<td><p>409.317</p></td>
<td><p>1.848</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>IIR</p></td>
<td><p>2</p></td>
<td><p>424.282</p></td>
<td><p>1.846</p></td>
<td><p>14.965</p></td>
<td><p>-0.002</p></td>
</tr>
<tr class="row-even"><td><p>NBP</p></td>
<td><p>1</p></td>
<td><p>243.507</p></td>
<td><p>0.979</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>NBP</p></td>
<td><p>2</p></td>
<td><p>258.472</p></td>
<td><p>0.977</p></td>
<td><p>14.965</p></td>
<td><p>-0.002</p></td>
</tr>
<tr class="row-even"><td><p>ASHRAE</p></td>
<td><p>1</p></td>
<td><p>261.173</p></td>
<td><p>1.052</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>ASHRAE</p></td>
<td><p>2</p></td>
<td><p>276.138</p></td>
<td><p>1.050</p></td>
<td><p>14.965</p></td>
<td><p>-0.002</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Arrays of known points</span>
<span class="n">x_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">y_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0333</span><span class="p">,</span> <span class="mf">1.0628</span><span class="p">])</span>

<span class="c1"># Point to interpolate</span>
<span class="n">x</span><span class="o">=</span> <span class="mi">280</span> <span class="o">-</span> <span class="mf">273.15</span>
<span class="c1"># Perform interpolation</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_points</span><span class="p">,</span> <span class="n">y_points</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Interpolated value at x = </span><span class="si">{}</span><span class="s2">: y = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Interpolated value at x = 6.85: y = 1.054
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Arrays of known points</span>
<span class="n">x_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>
<span class="n">y_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">270.20</span><span class="p">,</span> <span class="mf">278.91</span><span class="p">])</span>

<span class="c1"># Point to interpolate</span>
<span class="n">x</span><span class="o">=</span> <span class="mi">300</span> <span class="o">-</span> <span class="mf">273.15</span>
<span class="c1"># Perform interpolation</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_points</span><span class="p">,</span> <span class="n">y_points</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Interpolated value at x = </span><span class="si">{}</span><span class="s2">: y = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Interpolated value at x = 26.85: y = 276.17
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter4/Polytropic_Processes_Problem_Extended"></span><section class="tex2jax_ignore mathjax_ignore" id="comparison-of-work-done-in-different-processes">
<h3>Comparison of work done in different processes<a class="headerlink" href="#comparison-of-work-done-in-different-processes" title="Permalink to this heading">#</a></h3>
<section id="problem-statement">
<h4>Problem Statement<a class="headerlink" href="#problem-statement" title="Permalink to this heading">#</a></h4>
<p>Consider an ideal gas undergoing a polytropic process. At the initial state, the pressure (P_1 = 200 kPa) and specific volume (v_1 = 0.05	m3/kg). At the final state, the specific volume (v_2 = 0.1 , 	ext{m}^3/	ext{kg}). Analyze the process for polytropic exponents (n = 1.3) and (n = 1.0) (isothermal process).</p>
<ol class="arabic simple">
<li><p>Sketch the two processes on a P-v diagram. Which process has a larger specific boundary work?</p></li>
<li><p>Calculate the specific boundary work for both processes.</p></li>
<li><p>Compare the work for an isobaric (n=0), n=1 (isothermal), and n=1.3 polytropic processes.</p></li>
</ol>
</section>
<section id="solution">
<h4>Solution<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1"># Given values</span>
<span class="n">P1</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># kPa</span>
<span class="n">v1</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># m^3/kg</span>
<span class="n">v2</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># m^3/kg</span>
<span class="n">n_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">]</span>  <span class="c1"># Polytropic exponents</span>

<span class="k">def</span> <span class="nf">polytropic_process</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Isobaric</span>
        <span class="n">P2</span> <span class="o">=</span> <span class="n">P1</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Polytropic or Isothermal</span>
        <span class="n">P2</span> <span class="o">=</span> <span class="n">P1</span> <span class="o">*</span> <span class="p">(</span><span class="n">v1</span> <span class="o">/</span> <span class="n">v2</span><span class="p">)</span><span class="o">**</span><span class="n">n</span>
    <span class="k">return</span> <span class="n">P2</span>

<span class="k">def</span> <span class="nf">specific_work</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Isobaric</span>
        <span class="k">return</span> <span class="n">P1</span> <span class="o">*</span> <span class="p">(</span><span class="n">v2</span> <span class="o">-</span> <span class="n">v1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Isothermal</span>
        <span class="k">return</span> <span class="n">P1</span> <span class="o">*</span> <span class="n">v1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">v2</span> <span class="o">/</span> <span class="n">v1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Polytropic</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">P1</span> <span class="o">*</span> <span class="n">v1</span> <span class="o">-</span> <span class="n">polytropic_process</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">v2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># Plotting the P-v diagram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">n_values</span><span class="p">:</span>
    <span class="n">P</span> <span class="o">=</span> <span class="p">[</span><span class="n">polytropic_process</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">vi</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">vi</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;n = </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">work</span> <span class="o">=</span> <span class="n">specific_work</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Specific boundary work for n = </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">work</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1"> kJ/kg&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Specific Volume (m^3/kg)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Pressure (kPa)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;P-v Diagram for Polytropic Processes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Specific boundary work for n = 0: 10.0 kJ/kg
Specific boundary work for n = 1.0: 6.9 kJ/kg
Specific boundary work for n = 1.3: -6.3 kJ/kg
</pre></div>
</div>
<img alt="_images/66c205a7c192a6abe97eb904a66a1cb301a2c0d14e308b34d7eb177c5c6bb54d.png" src="_images/66c205a7c192a6abe97eb904a66a1cb301a2c0d14e308b34d7eb177c5c6bb54d.png" />
</div>
</div>
</section>
</section>
</div>
</section>
<span id="document-notebooks/Chapter5/chapter5"></span><section class="tex2jax_ignore mathjax_ignore" id="the-first-law-of-thermodynamics-for-a-control-volume">
<h2>5. The First Law of Thermodynamics for a Control Volume<a class="headerlink" href="#the-first-law-of-thermodynamics-for-a-control-volume" title="Permalink to this heading">#</a></h2>
<p>Practice problems on <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/5-0-chapter-introduction-and-learning-objectives/">Chapter 5</a> from Prof. Claire Yu Yan’s textbook.</p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter5/CH5-Q1"></span><section class="tex2jax_ignore mathjax_ignore" id="energy-balance-for-stream-in-control-volume">
<h3>Energy balance for Stream in Control Volume<a class="headerlink" href="#energy-balance-for-stream-in-control-volume" title="Permalink to this heading">#</a></h3>
<p>1kg of steam is confined in a space of the size <span class="math notranslate nohighlight">\(1\:m^3\)</span> where the thermometer measures <span class="math notranslate nohighlight">\(400 ^{\circ}  C\)</span>. Using CoolProp as a tool to extract thrmodynamic properties, determine:</p>
<p>a)the pressure reading on a pressure guage at atmospheric pressure</p>
<p>the steam is then heated to double the pressure reading while the space is kept from expanding. determine:</p>
<p>b)the temperature of steam after heating</p>
<p>c)how much heat is require to do so</p>
<p>d)what would be the asnwer if <span class="math notranslate nohighlight">\(C_v\)</span> is used instead of CoolProp? What assumptions are made?</p>
<section id="solution-approach-for-a">
<h4>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h4>
<p>Density <span class="math notranslate nohighlight">\(D\)</span> and temperature <span class="math notranslate nohighlight">\(T\)</span> are the two known parameters that can be used to extract properties.</p>
<p><span class="math notranslate nohighlight">\(D=m/V\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importing the required library</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># define the given inputs:</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">400</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature in K</span>
<span class="n">D</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">1</span> <span class="c1">#density in kg/m3</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">D</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span> <span class="c1">#calculating pressure using coolprop Pa</span>
<span class="n">P_g</span> <span class="o">=</span> <span class="n">P</span> <span class="o">-</span> <span class="mi">101325</span> <span class="c1">#gauge pressure in Pa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The gauage pressure of steam at the given initial properties is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P_g</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;Pa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The gauage pressure of steam at the given initial properties is 208099.6 Pa
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h4>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h4>
<p>The known parameters from the secondary state are pressure</p>
<p><span class="math notranslate nohighlight">\(P_{g2} = 2  P_g\)</span></p>
<p>and density</p>
<p><span class="math notranslate nohighlight">\(D_2 = D\)</span></p>
<p>since the mass and the volume of the space remains constant</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the inputs:</span>
<span class="n">P_g2</span> <span class="o">=</span> <span class="n">P_g</span> <span class="o">*</span> <span class="mi">2</span> <span class="c1">#gauge pressure in secondary state in Pa</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">P_g2</span> <span class="o">+</span> <span class="mi">101325</span> <span class="c1">#absolute pressure in secondary state in Pa</span>
<span class="n">D_2</span> <span class="o">=</span> <span class="n">D</span> <span class="c1">#density in the secondary state in kg/m3</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">D_2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span> <span class="c1">#calculating secondary temperature using coolprop in K</span>
<span class="n">T_2C</span> <span class="o">=</span> <span class="n">T_2</span> <span class="o">-</span> <span class="mf">273.15</span> <span class="c1">#temperature at secondary state in C</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The temperature of steam at the secondary state is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">T_2C</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The temperature of steam at the secondary state is 849.0 C
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-c">
<h4>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h4>
<p>Given the first law of thermodynamics,</p>
<p><span class="math notranslate nohighlight">\(Q=\Delta U + W\)</span></p>
<p>and <span class="math notranslate nohighlight">\(W = 0\)</span> since the boundaries of the space are fixed. Therefore,</p>
<p><span class="math notranslate nohighlight">\(Q=\Delta U=U_2 - U_1=m(u_2-u_1)\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the inputs using coolprop:</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#steam mass in kg</span>
<span class="n">u_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">D</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span> <span class="c1">#calculating initial internal energy in J/kg</span>
<span class="n">u_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">D_2</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span>  <span class="c1">#calculating secondary internal energy in J/kg</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="p">(</span><span class="n">u_2</span> <span class="o">-</span> <span class="n">u_1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span> <span class="c1">#heat required in kJ</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The heat required to double the guage presure is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Q</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kJ&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The heat required to double the guage presure is 790.8 kJ
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-d">
<h4>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h4>
<p>To use <span class="math notranslate nohighlight">\(C_v\)</span> and <span class="math notranslate nohighlight">\(C_p\)</span> values to calculate changes in enthalpy and internal energy, ideal gas assumption is to be made for steam.</p>
<p><span class="math notranslate nohighlight">\(Q=\Delta U=m\Delta u=mC_v\Delta T\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#define the constants</span>
<span class="n">C_v</span> <span class="o">=</span> <span class="mf">1.4108</span> <span class="c1">#C_v of steam in kJ/kg.k</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">C_v</span> <span class="o">*</span> <span class="p">(</span><span class="n">T_2</span> <span class="o">-</span> <span class="n">T</span><span class="p">)</span> <span class="c1">#heat required in kJ</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The heat required to double the guage presure is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Q</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kJ&#39;</span><span class="p">,</span><span class="s1">&#39;using C_v&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The heat required to double the guage presure is 633.5 kJ using C_v
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter5/CH5-Q2"></span><section id="piston-cylinder-carbon-dioxide">
<h3>Piston-cylinder: Carbon dioxide<a class="headerlink" href="#piston-cylinder-carbon-dioxide" title="Permalink to this heading">#</a></h3>
<p>Consider carbon-dioxide stored in a cylinder-and-piston system at <span class="math notranslate nohighlight">\(1\:MPa\)</span> and <span class="math notranslate nohighlight">\(0 ^{\circ}  C\)</span> with a volume of <span class="math notranslate nohighlight">\(1\:m^3\)</span>. The piston is free to move keeping the pressure of carbon-diaxide constant. The system is then heated to <span class="math notranslate nohighlight">\(25 ^{\circ} C\)</span>. Using CoolProp as a tool, determine:</p>
<p>a)the mass of carbon-dioxide</p>
<p>b)heat required to do so</p>
<p>c)the required heat if the weight of the 500g aluminum piston and cylinder are to be considered</p>
<p>d)the required heat in b if <span class="math notranslate nohighlight">\(C_p\)</span> is to be used to calculate <span class="math notranslate nohighlight">\(\Delta h\)</span> instead of CoolProp? what assumptions are made in this case?</p>
<section id="solution-approach-for-a">
<h4>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h4>
<p>the two knowns to extract thermodynamic properties are</p>
<p><span class="math notranslate nohighlight">\(P_1=1\:MPa\)</span></p>
<p><span class="math notranslate nohighlight">\(T_1=0 ^{\circ}  C\)</span></p>
<p>to calculate mass, density is to be extracted</p>
<p><span class="math notranslate nohighlight">\(m=D_1V_1\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importing the required library</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1">#define state variables</span>
<span class="n">V_1</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#ninitial volume in m3</span>
<span class="n">P_1</span> <span class="o">=</span> <span class="mf">1e+6</span> <span class="c1">#initial pressure in Pa</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#initial temperature in K</span>
<span class="n">D_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s1">&#39;CO2&#39;</span><span class="p">)</span> <span class="c1">#calculating density using coolprop kg/m3</span>
<span class="n">m_co2</span> <span class="o">=</span> <span class="n">D_1</span> <span class="o">*</span> <span class="n">V_1</span> <span class="c1">#mass of carbon-dioxide in kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The mass of carbon-dioxide is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_co2</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The mass of carbon-dioxide is 20.8 kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h4>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h4>
<p>based on the first law,</p>
<p><span class="math notranslate nohighlight">\(Q=\Delta U + W=\Delta H=m(h_2-h_1)\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#define state variable</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#secondary temperature in K</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">P_1</span> <span class="c1">#constant pressure process</span>
<span class="c1">#extracting enthalpy</span>
<span class="n">h_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s1">&#39;CO2&#39;</span><span class="p">)</span> <span class="c1">#initial enthalpy in J/kg</span>
<span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s1">&#39;CO2&#39;</span><span class="p">)</span> <span class="c1">#secondary enthalpy in J/kg</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">m_co2</span> <span class="o">*</span> <span class="p">(</span><span class="n">h_2</span><span class="o">-</span><span class="n">h_1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span> <span class="c1">#heat required in KJ</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The required heat for this process is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Q</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kJ&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The required heat for this process is 481.1 kJ
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-c">
<h4>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h4>
<p>for solids and liquids</p>
<p><span class="math notranslate nohighlight">\(\Delta u=\Delta h=C_p\Delta T\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#define constants</span>
<span class="n">m_alm</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1">#mass of aluminum in kg</span>
<span class="n">C_p_alm</span> <span class="o">=</span> <span class="mf">0.897</span> <span class="c1">#C_p of aluminum in kJ/kg.K</span>
<span class="n">Q_alm</span> <span class="o">=</span> <span class="n">m_alm</span> <span class="o">*</span> <span class="n">C_p_alm</span> <span class="o">*</span> <span class="p">(</span><span class="n">T_2</span><span class="o">-</span><span class="n">T_1</span><span class="p">)</span>
<span class="n">Q_total</span> <span class="o">=</span> <span class="n">Q_alm</span> <span class="o">+</span> <span class="n">Q</span> <span class="c1">#total heat required for the process</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The required total heat for this process is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Q_total</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kJ&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The required total heat for this process is 492.4 kJ
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-d">
<h4>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h4>
<p>in order to use <span class="math notranslate nohighlight">\(C_p\)</span> to calculate <span class="math notranslate nohighlight">\(\Delta h\)</span>, carbon-dioxide is assumed to be ideal gas; then from the first law,</p>
<p><span class="math notranslate nohighlight">\(Q=\Delta U + W=\Delta H=mC_p\Delta T\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#define constants</span>
<span class="n">C_p_co2</span> <span class="o">=</span> <span class="mf">0.846</span> <span class="c1">#Cp of CO2 in kJ/kg.K</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">m_co2</span> <span class="o">*</span> <span class="n">C_p_co2</span> <span class="o">*</span> <span class="p">(</span><span class="n">T_2</span><span class="o">-</span><span class="n">T_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The required heat for this process using Cp assumption is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Q</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kJ&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The required heat for this process using Cp assumption is 440.7 kJ
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-notebooks/Chapter5/CH5-Q3"></span><section class="tex2jax_ignore mathjax_ignore" id="air-compressor-and-turbine">
<h3>Air Compressor and Turbine<a class="headerlink" href="#air-compressor-and-turbine" title="Permalink to this heading">#</a></h3>
<p>Imagine a turbine whose work output is used to drive a compressor to compress air from atmospheric pressure and temperature to <span class="math notranslate nohighlight">\(1\:MPa\)</span>. The turbine operates with steam enerting the turbine at <span class="math notranslate nohighlight">\(1.2\:MPa\)</span> and <span class="math notranslate nohighlight">\(600 ^{\circ}  C\)</span> and exits as satirated vapor at atmospheric pressure. Assuming air to follow ideal-gas law going through a polytropic process with <span class="math notranslate nohighlight">\(n=1.3\)</span>, determine the flow-rate of steam per <span class="math notranslate nohighlight">\(1\:kg/s\)</span> of air flow-rate.</p>
<p><img alt="CH5-Q3.jpg" src="_images/CH5-Q3.png" /></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach">
<h3>Solution Approach<a class="headerlink" href="#solution-approach" title="Permalink to this heading">#</a></h3>
<p>Since the turbine and the compressor are couples, the work output from the turbine is considered the work input for the compressor. Therefore, calculating the work output for unit mass of turbine flow-rate as well as the work input for compressing <span class="math notranslate nohighlight">\(1\:kg\)</span> of air build the bridge to connect the turbune and the compressor and to calculate the required flow-rate.</p>
<p>From the first law of thermodynamics for the trubine assuming no changes in velocity and elevation:</p>
<p><span class="math notranslate nohighlight">\(w=\Delta h=h_{in}-h_{out}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importing the required library</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1">#define thermodynamic variables</span>
<span class="n">P_atm</span> <span class="o">=</span> <span class="mi">101325</span> <span class="c1">#atmospheric pressure in Pa</span>
<span class="n">P_it</span> <span class="o">=</span> <span class="mf">1.2E+6</span> <span class="c1">#turbine inlet pressure in Pa </span>
<span class="n">T_it</span> <span class="o">=</span> <span class="mi">600</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#turbine inlet temperatue in K</span>
<span class="n">P_ot</span> <span class="o">=</span> <span class="n">P_atm</span> <span class="c1">#turbine outlet pressure in Pa</span>
<span class="n">x_ot</span> <span class="o">=</span> <span class="mi">1</span><span class="c1">#turbine outlet quality</span>

<span class="n">h_it</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_it</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">T_it</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span> <span class="c1">#turbine inlet enthapy J/kg</span>
<span class="n">h_ot</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">P_ot</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="n">x_ot</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span> <span class="c1">#turbine inlet enthapy J/kg</span>

<span class="n">w_t</span> <span class="o">=</span> <span class="n">h_it</span> <span class="o">-</span> <span class="n">h_ot</span> <span class="c1">#turbine work output per unit mass of steam in J</span>
</pre></div>
</div>
</div>
</div>
<p>For a polytropic process of an ideal gas with a polytropic constant of <span class="math notranslate nohighlight">\(n\)</span>:</p>
<p><span class="math notranslate nohighlight">\(T_2=T_1(P_2/P_1)^{(n-1)/n}\)</span></p>
<p>for reference look at <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/5-5-application-of-the-mass-and-energy-conservation-equations-in-steady-flow-devices/">Example 1</a> from Chapter 5 in the textbook</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mf">1.3</span> <span class="c1">#polytropic constant of the process</span>
<span class="n">T_ic</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#inlet temperature of compressor in K</span>
<span class="n">P_ic</span> <span class="o">=</span> <span class="n">P_atm</span> <span class="c1">#inlet pressure of compressor in Pa</span>
<span class="n">P_oc</span> <span class="o">=</span> <span class="mf">1E+6</span> <span class="c1">#outlet pressure of compressor in Pa</span>
<span class="n">T_oc</span> <span class="o">=</span> <span class="n">T_ic</span> <span class="o">*</span> <span class="p">(</span><span class="n">P_oc</span><span class="o">/</span><span class="n">P_ic</span><span class="p">)</span><span class="o">**</span><span class="p">((</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="c1">#outlet temperature of compressor air in K</span>
</pre></div>
</div>
</div>
</div>
<p>Now assuming air as an ideal gas, its <span class="math notranslate nohighlight">\(C_p\)</span> value can be used to calculate changes in enthalpy</p>
<p><span class="math notranslate nohighlight">\(w=\Delta h=h_{out}-h_{in}=C_p(T_{out}-T_{in})\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#define constants</span>
<span class="n">C_p</span> <span class="o">=</span> <span class="mf">100.5</span> <span class="c1">#Cp of air in J/kg.K</span>
<span class="n">w_c</span> <span class="o">=</span> <span class="n">C_p</span> <span class="o">*</span> <span class="p">(</span><span class="n">T_oc</span> <span class="o">-</span> <span class="n">T_ic</span><span class="p">)</span> <span class="c1">#specific work input to compress air in J </span>
</pre></div>
</div>
</div>
</div>
<p>Now, to correlate mass flow-rates, the rate of work output in the turbine equals to the rate of work input into the compressor</p>
<p><span class="math notranslate nohighlight">\(\dot W_{turbine}=\dot W_{compressor}\)</span></p>
<p><span class="math notranslate nohighlight">\(\dot m_{turbine}w_{turbine}=\dot m_{compressor}w_{compressor}\)</span></p>
<p><span class="math notranslate nohighlight">\(\dot m_{turbine}=\dot m_{compressor}w_{compressor}/w_{turbine}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m_c</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#flow-rate of compressor required in kg/s</span>
<span class="n">m_t</span> <span class="o">=</span> <span class="n">m_c</span> <span class="o">*</span> <span class="n">w_c</span> <span class="o">/</span> <span class="n">w_t</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The steam mass flow-rate required to compress 1 kg/s of air is&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_t</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kg/s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The steam mass flow-rate required to compress 1 kg/s of air is 0.020 kg/s
</pre></div>
</div>
</div>
</div>
</section>
<span id="document-notebooks/Chapter5/CH5-Q4_v1.2"></span><section class="tex2jax_ignore mathjax_ignore" id="p-h-diagram-for-r-134a-refrigerant">
<h3>P-h diagram for R-134a refrigerant<a class="headerlink" href="#p-h-diagram-for-r-134a-refrigerant" title="Permalink to this heading">#</a></h3>
<p>Consider R134-a as a refrigrant fluid. Build the P-h (Pressure vs. Specific Enthalpy) for R134-a knowing the critical pressure is around <span class="math notranslate nohighlight">\(4.03\:MPa\)</span>. Build three constant temperature curves for <span class="math notranslate nohighlight">\(T=120 ^{\circ}  C\)</span>, <span class="math notranslate nohighlight">\(0\ ^{\circ}  C\)</span> and <span class="math notranslate nohighlight">\(-20 ^{\circ}  C\)</span>.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach">
<h3>Solution approach:<a class="headerlink" href="#solution-approach" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot a P-h diagram for a fluid of choice</span>


<span class="c1"># import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134A&quot;</span>  <span class="c1"># define the fluid or material of interest, for full list see CP.Fluidslist()</span>
<span class="n">T_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tmin&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># triple-point temp for the fluid</span>
<span class="n">P_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_min</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># triple-point pressure for the fluid</span>
<span class="n">P_max</span> <span class="o">=</span> <span class="mf">4.03E+6</span> <span class="c1">#approximate critical pressure</span>

<span class="n">P_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_min</span><span class="p">,</span> <span class="n">P_max</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values from P_min to P_max</span>
<span class="n">Q</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># define the fluid quality as 1, which is 100% vapor</span>

<span class="n">enthalpy</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span>  <span class="c1"># call for enthalpy values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturation Line&quot;</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>

<span class="n">Q</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># define the fluid quality as 0, which is 100% liquid</span>

<span class="n">enthalpy</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;-b&quot;</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>


<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>  <span class="c1"># use log scale on y axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [Pa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Enthalpy [kJ/kg]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># Building constant temperature curves</span>

<span class="n">T_up</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mf">273.15</span>
<span class="n">T_mid</span> <span class="o">=</span> <span class="mi">40</span> <span class="o">+</span> <span class="mf">273.15</span>
<span class="n">T_down</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>

<span class="n">P_max</span> <span class="o">=</span> <span class="mf">20E+6</span>  <span class="c1"># max pressure in the plot set to 20MPa</span>
<span class="n">P_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_min</span><span class="p">,</span> <span class="n">P_max</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>  <span class="c1"># define an array of values from P_min to P_max</span>
<span class="n">enthalpy_up</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_up</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>
<span class="n">enthalpy_mid</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_mid</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>
<span class="n">enthalpy_down</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_down</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy_up</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;-.y&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> °C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T_up</span><span class="o">-</span><span class="mf">273.15</span><span class="p">))</span>  <span class="c1"># plot pressure vs enthalpy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy_mid</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;:r&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> °C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T_mid</span><span class="o">-</span><span class="mf">273.15</span><span class="p">))</span>  <span class="c1"># plot pressure vs enthalpy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy_down</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;--m&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> °C&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">T_down</span><span class="o">-</span><span class="mf">273.15</span><span class="p">))</span>  <span class="c1"># plot pressure vs enthalpy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7f5d64166100&gt;
</pre></div>
</div>
<img alt="_images/3416c23ddc2c07f672117ba09ae411f7b5e68ea1576b6efdf565e0620d3b5c48.png" src="_images/3416c23ddc2c07f672117ba09ae411f7b5e68ea1576b6efdf565e0620d3b5c48.png" />
</div>
</div>
</section>
<span id="document-notebooks/Chapter5/CH5-Q5"></span><section class="tex2jax_ignore mathjax_ignore" id="refigeration-cycle-r134a-part-2">
<h3>Refigeration cycle: R134a Part 2<a class="headerlink" href="#refigeration-cycle-r134a-part-2" title="Permalink to this heading">#</a></h3>
<p>consider a refrigration cycle working with R134-a as coolant. The refrigrnt absorbs heat at <span class="math notranslate nohighlight">\(-20^{\circ}  C\)</span> during evaporation and enters the compressor as saturated vapor. The compressor then pressurizes R134-a while the its temperature increases to <span class="math notranslate nohighlight">\(120^{\circ}  C\)</span>. The refrigrant is then cooled down to saturated liquid at <span class="math notranslate nohighlight">\(40^{\circ}  C\)</span> in a condensor in constant pressure before entering a throttling valve. The refrigrant is then throttled to <span class="math notranslate nohighlight">\(-20^{\circ}  C\)</span> to provide refrigrating fluid for the evaporator. Calculate,</p>
<p>a) specific enthalpy of the refrigrant entering the throttling valve</p>
<p>b) specific enthalpy, quality and pressure of the refrigrant exiting the throttling valve</p>
<p>c) specific enthalpy and pressure at compressor inlet</p>
<p>d) specific enthalpy at compressor outlet</p>
<p>e) how much heat is absorbed in the evaporator per unit mass of the refrigrant</p>
<p>f) how much heat is rejected in the condenser per unit mass of the refrigrant</p>
<p>g) how much work is required by the compresor to elevate <span class="math notranslate nohighlight">\(1\:kg\)</span> of the refrigrant’s pressure; what would be the coefficient of performance (COP)?</p>
<p>h) the polytropic constant assuming a polytropic process in the compressor</p>
<p>i) verify the first law of thermodynamics for the system as a whoole</p>
<p>j) draw the process on a P-h diagram developed previously for Q4 at this chapter</p>
<p><img alt="Q5.png" src="_images/CH5-Q5.png" /></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-a">
<h3>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h3>
<p>The refrigrant entering the throttling valve comes from the condenser; therefore the state 3 enthalpy is desired. The temperature at this state is guven as <span class="math notranslate nohighlight">\(T_3=0^{\circ}  C\)</span> and the refrigrant is at its satuarated liquid state with quality equal to <span class="math notranslate nohighlight">\(x=0\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134A&quot;</span>  <span class="c1"># define the fluid or material of interest</span>
<span class="n">T_3</span> <span class="o">=</span> <span class="mi">40</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#stete #3 temperature in K</span>
<span class="n">h_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #3 in kJ/kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Th specific of the refrigrant at state #3 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_3</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Th specific of the refrigrant at state #3 is: 256.4 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-b">
<h3>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h3>
<p>A throttling valve is ideally assumed to conserve enthalpy considering the first law of thermodynamics. Therefore,</p>
<p><span class="math notranslate nohighlight">\(h_3 = h_4\)</span></p>
<p>The refrigrant enters the evaporator as saturated liquid at <span class="math notranslate nohighlight">\(-20^{\circ}  C\)</span>, therefore</p>
<p><span class="math notranslate nohighlight">\(h_4 = h_{f&#64;-20^{\circ}  C}+xh_{fg&#64;-20^{\circ}  C}\)</span></p>
<p><span class="math notranslate nohighlight">\(x = (h_4 - h_{f&#64;-20^{\circ}  C}) / h_{fg&#64;-20^{\circ}  C}\)</span></p>
<p>The pressure at the throttling valve exit, which is same as evaporator inlet, would be satuartion pressure at the evaporator’s working temperature since the refrigrant enters the evaporator as saturated fluid.</p>
<p><span class="math notranslate nohighlight">\(P_4 = P_{sat&#64;-20^{\circ}  C}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">h_4</span> <span class="o">=</span> <span class="n">h_3</span>   <span class="c1">#constant enthalpy through a throttling valve</span>

<span class="n">T_4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#temperature of refrigrant at state #4 in K</span>
<span class="n">h_gN20</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_4</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>   <span class="c1">#enthalpy of sat vap at -20C in kJ/kg</span>
<span class="n">h_fN20</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_4</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>   <span class="c1">#enthalpy of sat lig at -20C in kJ/kg</span>
<span class="n">h_fgN20</span> <span class="o">=</span> <span class="n">h_gN20</span> <span class="o">-</span> <span class="n">h_fN20</span>   <span class="c1">#h_fg at -20C in kJ/kg</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">h_4</span> <span class="o">-</span> <span class="n">h_fN20</span><span class="p">)</span><span class="o">/</span><span class="n">h_fgN20</span>  <span class="c1">#qaulity of refrigrant entering the evaporator</span>

<span class="n">P_4</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_4</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #1 in Pa</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific of the refrigrant at state #4 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_4</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The quality of the refrigrant at state #4 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The pressure of the refrigrant at state #4 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P_4</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;Pa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The specific of the refrigrant at state #4 is: 256.4 kJ/kg
The quality of the refrigrant at state #4 is: 0.389
The pressure of the refrigrant at state #4 is: 132735.0 Pa
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-c">
<h3>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h3>
<p>The refrigrant enters the compressor as saturated vapor, therefore it has gone through constant pressure(and temperature) heating in the evaporator whose temperature is <span class="math notranslate nohighlight">\(-20^{\circ}  C\)</span>. So,</p>
<p><span class="math notranslate nohighlight">\(h_1 = h_v&#64;-20^{\circ}  C\)</span></p>
<p><span class="math notranslate nohighlight">\(P_1=P_{sat&#64;-20^{\circ}  C}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T_1</span> <span class="o">=</span> <span class="n">T_4</span> <span class="c1">#temperature at state #1 in K</span>
<span class="n">h_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #1 in kJ/kg</span>
<span class="n">P_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #1 in Pa</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Th specific enthalpy of the refrigrant at state #1 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_1</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Th pressure of the refrigrant at state #1 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">P_1</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;Pa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Th specific enthalpy of the refrigrant at state #1 is: 386.6 kJ/kg
Th pressure of the refrigrant at state #1 is: 132735.0 Pa
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-d">
<h3>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h3>
<p>The refrigrant is heated to <span class="math notranslate nohighlight">\(T_2=120^{\circ}  C\)</span>. The pressure to which the refrigrant is pressurized to, however, is unknown. The condensor is assumed to be operating with constant pressure; therefore, the pressure keeps constant and the pressure at condensor outlet would be same as pressure at its inlet which is same as compressor outlet. The pressure at condensor outlet is calculated based on the refrigrant being at saturation state at <span class="math notranslate nohighlight">\(0^{\circ}  C\)</span>.</p>
<p><span class="math notranslate nohighlight">\(P_2=P_3\)</span></p>
<p><span class="math notranslate nohighlight">\(P_3=P_{satR134a&#64;-20^{\circ}  C}\)</span></p>
<p>The pressure and temperature at the compressor outlet are then used to calculate enthalpy at this state.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T_2</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature at state #2 in K</span>
<span class="n">P_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #3 in Pa</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">P_3</span> <span class="c1"># pressure of the refrigrant at state #2 in Pa</span>
<span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #2 in kJ/kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific of the refrigrant at state #2 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_2</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The specific of the refrigrant at state #2 is: 504.1 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-e">
<h3>Solution Approach for e)<a class="headerlink" href="#solution-approach-for-e" title="Permalink to this heading">#</a></h3>
<p>Considerin the first law of thermodynamics for the evaporator,</p>
<p><span class="math notranslate nohighlight">\(q_c=h_1-h_4\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">q_c</span> <span class="o">=</span> <span class="n">h_1</span> <span class="o">-</span> <span class="n">h_4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q_c</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ of heat is absorbed by the refrigrant in the evaporator per kg of refrigrant&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>130.1 kJ of heat is absorbed by the refrigrant in the evaporator per kg of refrigrant
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-f">
<h3>Solution Approach for f)<a class="headerlink" href="#solution-approach-for-f" title="Permalink to this heading">#</a></h3>
<p>Considerin the first law of thermodynamics for the condenser,</p>
<p><span class="math notranslate nohighlight">\(q_h=h_2-h_3\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">q_h</span> <span class="o">=</span> <span class="n">h_2</span> <span class="o">-</span> <span class="n">h_3</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">q_h</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ of heat is rejected to the environment in the condenser per kg of refrigrant&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>247.6 kJ of heat is rejected to the environment in the condenser per kg of refrigrant
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-g">
<h3>Solution Approach for g)<a class="headerlink" href="#solution-approach-for-g" title="Permalink to this heading">#</a></h3>
<p>Considerin the first law of thermodynamics for the compressor,</p>
<p><span class="math notranslate nohighlight">\(w=h_2-h_1\)</span></p>
<p><span class="math notranslate nohighlight">\(COP=q_c/w\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="n">h_2</span> <span class="o">-</span> <span class="n">h_1</span>
<span class="n">cop</span> <span class="o">=</span> <span class="n">q_c</span> <span class="o">/</span> <span class="n">w</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">w</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ of energy is required to compress 1kg of R134-a to the desired pressure&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The COP of the cycle is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cop</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>117.5 kJ of energy is required to compress 1kg of R134-a to the desired pressure
The COP of the cycle is: 1.1
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-h">
<h3>Solution Approach for h)<a class="headerlink" href="#solution-approach-for-h" title="Permalink to this heading">#</a></h3>
<p>for a polytropic process,</p>
<p><span class="math notranslate nohighlight">\(Pv^k=constant\)</span></p>
<p><span class="math notranslate nohighlight">\(P_1v_1^k=P_2v_2^k\)</span></p>
<p><span class="math notranslate nohighlight">\(P_1/P_2=(v_2/v_1)^k\)</span></p>
<p><span class="math notranslate nohighlight">\(d (density)=1/v\)</span></p>
<p><span class="math notranslate nohighlight">\(P_1/P_2=(d_1/d_2)^k\)</span></p>
<p><span class="math notranslate nohighlight">\(log(P_1/P_2)=k\:log(d_1/d_2)\)</span></p>
<p><span class="math notranslate nohighlight">\(k=log(P_1/P_2)/log(d_1/d_2)\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importing required libraries</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">#evaluating density </span>
<span class="n">d_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># density of the refrigrant at state #1 in kg/m3 based on sat vepor</span>
<span class="n">d_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># density of the refrigrant at state #2 in kg/m3 based on sat vepor</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">P_1</span><span class="o">/</span><span class="n">P_2</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">d_1</span><span class="o">/</span><span class="n">d_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Th polytropic constant for the compression process is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Th polytropic constant for the compression process is: 1.254
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-i">
<h3>Solution Approach for i)<a class="headerlink" href="#solution-approach-for-i" title="Permalink to this heading">#</a></h3>
<p>Considerin the first law of thermodynamics for the whole system,</p>
<p><span class="math notranslate nohighlight">\(w=q_h-q_c\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w_test</span> <span class="o">=</span>  <span class="n">q_h</span> <span class="o">-</span> <span class="n">q_c</span>
<span class="n">w_test</span> <span class="o">==</span> <span class="n">w</span> <span class="c1">#w_test is the value calculated from the first law and w is the value calculated using enthalpies</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach-for-j">
<h3>Solution Approach for j)<a class="headerlink" href="#solution-approach-for-j" title="Permalink to this heading">#</a></h3>
<p>Except the compression process, other are straight lines of constant pressure or constant enthalpy processes. Therefore, the curve for the compression is to be built based on polytropic process and thermodynamic properties obtained from CoolProp.</p>
<p>from h)</p>
<p><span class="math notranslate nohighlight">\(P/P_1=(d/d_1)^k\)</span></p>
<p><span class="math notranslate nohighlight">\(P=P1\:(d/d_1)^k\)</span></p>
<p>values of <span class="math notranslate nohighlight">\(P\)</span> and <span class="math notranslate nohighlight">\(d\)</span> are generic pressure and density values for a polytropic process.</p>
<p>then an array of densities ranging from <span class="math notranslate nohighlight">\(d_1\)</span> to <span class="math notranslate nohighlight">\(d_2\)</span> is used to calculate pressure and enthalpy accordingly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#for the compression process 1-2</span>
<span class="c1">#building an array of densities</span>
<span class="n">e</span> <span class="o">=</span> <span class="mi">1000</span>   <span class="c1">#number of data points for the polytropic process</span>
<span class="n">d_12</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">d_1</span><span class="p">,</span> <span class="n">d_2</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>  <span class="c1"># define an array of values from d_1 to d_2</span>
<span class="n">P_12</span> <span class="o">=</span> <span class="n">P_1</span> <span class="o">*</span> <span class="p">(</span><span class="n">d_12</span><span class="o">/</span><span class="n">d_1</span><span class="p">)</span> <span class="o">**</span> <span class="n">k</span>   <span class="c1">#array of pressure based on density for the polytropic compression</span>
<span class="n">h_12</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>   <span class="c1">#an empty array to store enthalpy values</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
   <span class="n">h_12</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_12</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="n">d_12</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy values for the polytropic process in kJ/kg</span>

<span class="c1">#for the cooling process in the condensor in constant pressure</span>
<span class="n">P_23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_2</span><span class="p">,</span> <span class="n">P_3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of pressure values from 2 to 3</span>
<span class="n">h_23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">h_2</span><span class="p">,</span> <span class="n">h_3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define a linear array of enthalpy values from 2 to 3</span>

<span class="c1">#for the process through the throttling valve at constant enthalpy</span>
<span class="n">P_34</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_3</span><span class="p">,</span> <span class="n">P_4</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of pressure values from 3 to 4</span>
<span class="n">h_34</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">h_3</span><span class="p">,</span> <span class="n">h_4</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define a linear array of enthalpy values from 3 to 4</span>

<span class="c1">#for the process through the evaporatot at constant pressure</span>
<span class="n">P_41</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_4</span><span class="p">,</span> <span class="n">P_1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of pressure values from 4 to 1</span>
<span class="n">h_41</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">h_4</span><span class="p">,</span> <span class="n">h_1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define a linear array of enthalpy values from 4 to 1</span>

<span class="c1">#plotting the process on the P-h diagram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">h_23</span><span class="p">,</span> <span class="n">P_23</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;condensor&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">h_34</span><span class="p">,</span> <span class="n">P_34</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;throttling valve&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">h_41</span><span class="p">,</span> <span class="n">P_41</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;evaporator&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">h_12</span><span class="p">,</span> <span class="n">P_12</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;compressor&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>


<span class="c1">#building the P-h diagram</span>


<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134A&quot;</span>  <span class="c1"># define the fluid or material of interest, for full list see CP.Fluidslist()</span>
<span class="n">T_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;Tmin&quot;</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># triple-point temp for the fluid</span>
<span class="n">P_min</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_min</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># triple-point pressure for the fluid</span>
<span class="n">P_max</span> <span class="o">=</span> <span class="mf">4.03E+6</span> <span class="c1">#approximate critical pressure</span>

<span class="n">P_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_min</span><span class="p">,</span> <span class="n">P_max</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># define an array of values from P_min to P_max</span>
<span class="n">Q</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># define the fluid quality as 1, which is 100% vapor</span>

<span class="n">enthalpy</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span>  <span class="c1"># call for enthalpy values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Saturation Line&quot;</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>

<span class="n">Q</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># define the fluid quality as 0, which is 100% liquid</span>

<span class="n">enthalpy</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;-b&quot;</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>


<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>  <span class="c1"># use log scale on y axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Pressure [Pa]&quot;</span><span class="p">)</span>  <span class="c1"># give y axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Enthalpy [kJ/kg]&quot;</span><span class="p">)</span>  <span class="c1"># give x axis a label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>


<span class="c1"># Building constant temperature curves</span>

<span class="n">T_up</span> <span class="o">=</span> <span class="n">T_2</span>
<span class="n">T_mid</span> <span class="o">=</span> <span class="n">T_3</span>
<span class="n">T_down</span> <span class="o">=</span> <span class="n">T_4</span>

<span class="n">P_max</span> <span class="o">=</span> <span class="mf">20E+6</span>  <span class="c1"># max pressure in the plot set to 20MPa</span>
<span class="n">P_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">P_min</span><span class="p">,</span> <span class="n">P_max</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>  <span class="c1"># define an array of values from P_min to P_max</span>
<span class="n">enthalpy_up</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_up</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>
<span class="n">enthalpy_mid</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_mid</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>
<span class="n">enthalpy_down</span> <span class="o">=</span> <span class="p">[</span><span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_down</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="n">P_vals</span><span class="p">]</span> <span class="c1"># call for enthalpy values using CoolProp</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy_up</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;-.y&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">T_up</span><span class="o">-</span><span class="mf">273.15</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy_mid</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;:r&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">T_mid</span><span class="o">-</span><span class="mf">273.15</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enthalpy_down</span><span class="p">,</span> <span class="n">P_vals</span><span class="p">,</span> <span class="s2">&quot;--m&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">T_down</span><span class="o">-</span><span class="mf">273.15</span><span class="p">)</span>  <span class="c1"># plot pressure vs enthalpy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7f90685ef940&gt;
</pre></div>
</div>
<img alt="_images/d26e029312123208707e990f73796284bc4d6972ae0efa3ab2655257a311ded2.png" src="_images/d26e029312123208707e990f73796284bc4d6972ae0efa3ab2655257a311ded2.png" />
</div>
</div>
</section>
<span id="document-notebooks/Chapter5/CH5-Q6"></span><section class="tex2jax_ignore mathjax_ignore" id="refrigeration-cycle-r134a">
<h3>Refrigeration cycle: R134a<a class="headerlink" href="#refrigeration-cycle-r134a" title="Permalink to this heading">#</a></h3>
<p>consider a refrigration cycle working with R134-a as coolant to support <span class="math notranslate nohighlight">\(100\:kW\)</span> of cooling load to a cold storage. The refrigrnt absorbs heat at <span class="math notranslate nohighlight">\(-20^{\circ}  C\)</span> during evaporation and enters the compressor as saturated vapor. The compressor is coupled to a gas turbine working with compressed air that pressurizes R134-a increasing the coolant’s temperature to <span class="math notranslate nohighlight">\(120^{\circ}  C\)</span>. The refrigrant is then cooled down to saturated liquid at <span class="math notranslate nohighlight">\(40^{\circ}  C\)</span> in a condensor in constant pressure before entering a throttling valve. The refrigrant is then throttled to <span class="math notranslate nohighlight">\(-20^{\circ}  C\)</span> to provide refrigrating fluid for the evaporator. Given the turbine works with compressed air at <span class="math notranslate nohighlight">\(1\:MPa\)</span> guage pressure and room temperature, determine the air flow-rate required to provide the required cooling load given the air is discharched to the atmosphere at the turbine outlet and goes through a polytropic process with <span class="math notranslate nohighlight">\(n=1.5\)</span>.</p>
<p><img alt="CH5-Q6.jpg" src="_images/CH5-Q6.png" /></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach">
<h3>Solution Approach<a class="headerlink" href="#solution-approach" title="Permalink to this heading">#</a></h3>
<p>the enthalpy change through the evaporator per kg of the refrigrant is to be calculated. Afterwards, the flow-rate of refrigrant is calculated based on the cooling load, followed by calculation of compressor load based on flow-rate and work calculated per kg of refrigrant. From Q#5 of this chapter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134A&quot;</span>  <span class="c1"># define the fluid or material of interest</span>
<span class="n">T_3</span> <span class="o">=</span> <span class="mi">40</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#stete #3 temperature in K</span>
<span class="n">h_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #3 in kJ/kg</span>

<span class="n">h_4</span> <span class="o">=</span> <span class="n">h_3</span>   <span class="c1">#constant enthalpy through a throttling valve</span>

<span class="n">T_4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#temperature of refrigrant at state #4 in K</span>

<span class="n">P_4</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_4</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #1 in Pa (quality is set to 1 as the pressure keeps constant in sat region)</span>

<span class="n">T_1</span> <span class="o">=</span> <span class="n">T_4</span> <span class="c1">#temperature at state #1 in K</span>
<span class="n">h_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #1 in kJ/kg</span>

<span class="n">T_2</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature at state #2 in K</span>
<span class="n">P_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #3 in Pa</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">P_3</span> <span class="c1"># pressure of the refrigrant at state #2 in Pa</span>
<span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #2 in kJ/kg</span>

<span class="n">q_c</span> <span class="o">=</span> <span class="n">h_1</span> <span class="o">-</span> <span class="n">h_4</span>

<span class="n">q_h</span> <span class="o">=</span> <span class="n">h_2</span> <span class="o">-</span> <span class="n">h_3</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">h_2</span> <span class="o">-</span> <span class="n">h_1</span>
</pre></div>
</div>
</div>
</div>
<p>The total cooling load <span class="math notranslate nohighlight">\(\dot Q_c\)</span> is given to be <span class="math notranslate nohighlight">\(100\:kW\)</span>; therefore the refrigrant flow-rate is calculated as</p>
<p><span class="math notranslate nohighlight">\(\dot m_{R134a}=\dot Q_c/q_c\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Q_c</span> <span class="o">=</span> <span class="mi">100</span>    <span class="c1">#cooling load in kW</span>
<span class="n">m_r134a</span> <span class="o">=</span> <span class="n">Q_c</span> <span class="o">/</span> <span class="n">q_c</span>   <span class="c1">#refrigrant flow-rate in kg/s</span>
</pre></div>
</div>
</div>
</div>
<p>The total work done by the compressor then would be,</p>
<p><span class="math notranslate nohighlight">\(\dot W_{R134a}=\dot m_{R134a}\:w\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">W_r134a</span> <span class="o">=</span> <span class="n">m_r134a</span> <span class="o">*</span> <span class="n">w</span>   <span class="c1">#the work input by the compressor in kW</span>
</pre></div>
</div>
</div>
</div>
<p>Now, looking at the turbine-compressor coupling, the work required by the compressor is supported by the turbine in which air goes through a polytropic process. For a polytropic process,</p>
<p><span class="math notranslate nohighlight">\(Pv^n=constant\)</span></p>
<p><span class="math notranslate nohighlight">\(P_1v_1^k=P_2v_2^k\)</span></p>
<p><span class="math notranslate nohighlight">\(d (density)=1/v\)</span></p>
<p><span class="math notranslate nohighlight">\(d_2/d_1=(P_2/P_1)^{(1/k)}\)</span></p>
<p><span class="math notranslate nohighlight">\(d_2=d_1\:(P_2/P_1)^{(1/k)}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#thermodynamic properties and constants for air at state #5</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;Air&quot;</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">0.287</span>    <span class="c1">#air gas constant in kJ/kg.k</span>
<span class="n">P_atm</span> <span class="o">=</span> <span class="mf">101.325</span>   <span class="c1">#atmospheric pressure in kPa</span>
<span class="n">P_guage</span> <span class="o">=</span> <span class="mi">1000</span>   <span class="c1">#guage presssure at turbine inlet in kPa</span>
<span class="n">P_5</span> <span class="o">=</span> <span class="n">P_guage</span> <span class="o">+</span> <span class="n">P_atm</span>
<span class="n">T_5</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#compressed air temperature in K</span>
<span class="n">D_5</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_5</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_5</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1">#air density at turbine inlet</span>

<span class="n">P_6</span> <span class="o">=</span> <span class="n">P_atm</span>   <span class="c1">#pressure at turbine outlet in kPa</span>
<span class="n">n</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">D_6</span> <span class="o">=</span> <span class="n">D_5</span> <span class="o">*</span> <span class="p">(</span><span class="n">P_6</span><span class="o">/</span><span class="n">P_5</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, considering the first law of thermodynamics,</p>
<p><span class="math notranslate nohighlight">\(w_turbine = h_5 - h_6\)</span></p>
<p><span class="math notranslate nohighlight">\(\dot W_{turbine}=\dot m_{air} \:(h_5-h_6)\)</span></p>
<p>and from the coupling</p>
<p><span class="math notranslate nohighlight">\(\dot W_{turbine}=\dot W_{R134a}\)</span></p>
<p><span class="math notranslate nohighlight">\(\dot m_{air}=\dot W_{R134a}/(h_5-h_6)\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;Air&quot;</span>
<span class="n">h_5</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_5</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_5</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>   <span class="c1">#air enthalpy at turbine inlet in kJ/kg</span>
<span class="n">h_6</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="n">D_6</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_6</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>   <span class="c1">#air enthalpy at turbine outlet in kJ/kg</span>
<span class="n">m_air</span> <span class="o">=</span> <span class="n">W_r134a</span> <span class="o">/</span> <span class="p">(</span><span class="n">h_5</span> <span class="o">-</span> <span class="n">h_6</span><span class="p">)</span>   <span class="c1">#required air flow-rate in kg/s</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The required air flow-rate to run the compressor is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_air</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kg/s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The required air flow-rate to run the compressor is: 0.6 kg/s
</pre></div>
</div>
</div>
</div>
</section>
<span id="document-notebooks/Chapter5/CH5-Q7"></span><section class="tex2jax_ignore mathjax_ignore" id="refrigeration-cycle-water-flow-rate">
<h3>Refrigeration cycle: Water flow-rate<a class="headerlink" href="#refrigeration-cycle-water-flow-rate" title="Permalink to this heading">#</a></h3>
<p>consider a refrigration cycle working with R134-a as coolant. The refrigrnt absorbs heat at <span class="math notranslate nohighlight">\(-20 ^{\circ}  C\)</span> during evaporation and enters the compressor as saturated vapor. The compressor then pressurizes R134-a while the its temperature increases to <span class="math notranslate nohighlight">\(120 ^{\circ}  C\)</span>. The refrigrant is then cooled down to saturated liquid at <span class="math notranslate nohighlight">\(40 ^{\circ}  C\)</span> in constant pressure in a heat exchanger before entering a throttling valve. The refrigrant is then throttled to <span class="math notranslate nohighlight">\(-20 ^{\circ}  C\)</span> to provide refrigrating fluid for the evaporator. Assuming the refrigrant exchanges heat with pressurized water in the heat exchanger to heat it up from room temperature to saturated vapor at <span class="math notranslate nohighlight">\(110 ^{\circ}  C\)</span>, calculate how much water is required per kg of R134a to support cooling power in the heat exhanger.</p>
<p><img alt="CH5-Q7.jpg" src="_images/CH5-Q7.png" /></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="solution-approach">
<h3>Solution Approach<a class="headerlink" href="#solution-approach" title="Permalink to this heading">#</a></h3>
<p>based on the first law of thermodynamics, for the heat exchanger</p>
<p><span class="math notranslate nohighlight">\(Q+\dot m_ih_i=\dot m_eh_e\)</span></p>
<p>Assuming an isolated heat exchanger,</p>
<p><span class="math notranslate nohighlight">\(\dot m_5h_5+\dot m_2h_2=\dot m_3h_3+\dot m_6h_6\)</span></p>
<p>given</p>
<p><span class="math notranslate nohighlight">\(\dot m_5=\dot m_6=\dot m_{water}\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(\dot m_2=\dot m_3=\dot m_{R134a}\)</span></p>
<p>water flow-rate per <span class="math notranslate nohighlight">\(1\:kg/s\)</span> of <span class="math notranslate nohighlight">\(R134a\)</span> flow-rate would be</p>
<p><span class="math notranslate nohighlight">\(\dot m_{water}=(h_2-h_3)/(h_6-h_5)\)</span></p>
<p>from Q#5 of this chapter</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134A&quot;</span>  <span class="c1"># define the fluid or material of interest</span>
<span class="n">T_3</span> <span class="o">=</span> <span class="mi">40</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#stete #3 temperature in K</span>
<span class="n">h_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #3 in kJ/kg</span>

<span class="n">h_4</span> <span class="o">=</span> <span class="n">h_3</span>   <span class="c1">#constant enthalpy through a throttling valve</span>

<span class="n">T_4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#temperature of refrigrant at state #4 in K</span>

<span class="n">P_4</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_4</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #1 in Pa (quality is set to 1 as the pressure keeps constant in sat region)</span>

<span class="n">T_1</span> <span class="o">=</span> <span class="n">T_4</span> <span class="c1">#temperature at state #1 in K</span>
<span class="n">h_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #1 in kJ/kg</span>

<span class="n">T_2</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature at state #2 in K</span>
<span class="n">P_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># pressure of the refrigrant at state #3 in Pa</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">P_3</span> <span class="c1"># pressure of the refrigrant at state #2 in Pa</span>
<span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #2 in kJ/kg</span>

<span class="c1">#for the water side</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span>
<span class="n">T_6</span> <span class="o">=</span> <span class="mi">110</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#temperature of water at heat exchanger exit in K</span>
<span class="n">T_5</span> <span class="o">=</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#temperature of water at heat exchanger inlet in K</span>
<span class="n">h_6</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_6</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>   <span class="c1">#enthalpy of water at heat exchanger exit in kJ/kg</span>
<span class="n">P_6</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_6</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#pressure of water at heat exchanger exit in Pa</span>
<span class="n">P_5</span> <span class="o">=</span> <span class="n">P_6</span>   <span class="c1">#pressure of water at heat exchanger inlet in Pa assuming constant pressure heating</span>
<span class="n">h_5</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_5</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_5</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>   <span class="c1">#enthalpy of water at heat exchanger exit in kJ/kg</span>

<span class="n">m_water</span> <span class="o">=</span> <span class="p">(</span><span class="n">h_2</span> <span class="o">-</span> <span class="n">h_3</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">h_6</span> <span class="o">-</span> <span class="n">h_5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The required water flow-rate to support cooling for condensor per kg/s of R134a:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_water</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kg/s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The required water flow-rate to support cooling for condensor per kg/s of R134a: 0.1 kg/s
</pre></div>
</div>
</div>
</div>
</section>
<span id="document-notebooks/Chapter5/CH5-Q8"></span><section class="tex2jax_ignore mathjax_ignore" id="chapter-5">
<h3><a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/5-0-chapter-introduction-and-learning-objectives/">Chapter 5</a><a class="headerlink" href="#chapter-5" title="Permalink to this heading">#</a></h3>
<section id="question-8">
<h4>Question #8<a class="headerlink" href="#question-8" title="Permalink to this heading">#</a></h4>
<p>Consider a multi-evaporator refrigration system operating with two evaporators to support cooling powers for two seperate compartments set at different temperatures. The low-temperature evaporator1 operates at a constant <span class="math notranslate nohighlight">\(-20^{\circ} C\)</span> and the high-temperature evaporator2 operates at <span class="math notranslate nohighlight">\(0^{\circ} C\)</span>. To optimize the size of the condensor and the evaporators, the refrigrant R134-a is cooled down to saturated liquid at <span class="math notranslate nohighlight">\(40^{\circ} C\)</span> in the condensor and is heated up to saturated vapor in the evaporators. The evaporator outputs are then mixed after regulating the pressure for the high-temperature evaporator using a valve and then pressurized in the compressor while increasing to <span class="math notranslate nohighlight">\(120^{\circ} C\)</span> in temperature. Given the cooling loads are <span class="math notranslate nohighlight">\(150\:kW\)</span> for both cooling compartments seperately, calculate,</p>
<p>a) the specific enthalpy of the refrigrant exiting the condenser</p>
<p>b) the specific enthalpy of the refrigrant exiting each of the evaporators</p>
<p>c) the flow-rate of the refrigrant through each evaporator</p>
<p>d) the specific enthalpy of the refrigrant entering the compressor</p>
<p>e) the pressure ratio of the compressor</p>
<p>f) the specific enthalpy of the refrigrant exiting the compressor</p>
<p>g) the work required in the compressor</p>
<p>h) the coefficient of performance (COP)</p>
<p><img alt="CH5-Q8.jpg" src="_images/CH5-Q8.png" /></p>
<section id="solution-approach-for-a">
<h5>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h5>
<p>the refrigrant exiting the condenser would be a sat liquid at <span class="math notranslate nohighlight">\(40^{\circ} C\)</span>, therefore</p>
<p><span class="math notranslate nohighlight">\(h_3=h_{f&#64;40^{\circ} C}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>

<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;R134A&quot;</span>  <span class="c1"># define the fluid or material of interest</span>
<span class="n">T_3</span> <span class="o">=</span> <span class="mi">40</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#stete #3 temperature in K</span>
<span class="n">h_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #3 in kJ/kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific enthalpy of the refrigrant exiting the condenser is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_3</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The specific enthalpy of the refrigrant exiting the condenser is: 256.4 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h5>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h5>
<p>the low-temperature evaporator operates at <span class="math notranslate nohighlight">\(-20^{\circ} C\)</span> and the high-temperature one operates at <span class="math notranslate nohighlight">\(0^{\circ} C\)</span> and the refrigrant exiting those are at their saturated liquid state to optimize evaporators’ performance, therefore</p>
<p><span class="math notranslate nohighlight">\(h_6=h_{g&#64;-20^{\circ} C}\)</span></p>
<p><span class="math notranslate nohighlight">\(h_9=h_{g&#64;0^{\circ} C}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T_6</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#stete #6 temperature in K</span>
<span class="n">T_9</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#stete #9 temperature in K</span>

<span class="n">h_6</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_6</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #6 in kJ/kg</span>
<span class="n">h_9</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_9</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># enthalpy of the refrigrant at state #9 in kJ/kg</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific enthalpy of the refrigrant exiting the evaporator 1 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_6</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific enthalpy of the refrigrant exiting the evaporator 2 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_9</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The specific enthalpy of the refrigrant exiting the evaporator 1 is: 386.6 kJ/kg
The specific enthalpy of the refrigrant exiting the evaporator 2 is: 398.6 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-c">
<h5>Solution Approach for c)<a class="headerlink" href="#solution-approach-for-c" title="Permalink to this heading">#</a></h5>
<p>to calculate the flow-rate based on cooling load, the cooling capacities for the evaporators are to be calculated first. For Evaporator 1,</p>
<p><span class="math notranslate nohighlight">\(h_5=h_4\)</span> assuming a constant enthalpy expansion valve</p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(h_4=h_3\)</span></p>
<p>therefore,</p>
<p><span class="math notranslate nohighlight">\(q_{c1}=h_6-h_5\)</span> the cooling capacity for evaporator 1</p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(\dot m_{e1}=\dot Q_{c1}/q_{c1}\)</span> the flow-rate for evaporator 1</p>
<p>similarly for evaporator 2,</p>
<p><span class="math notranslate nohighlight">\(h_8=h_7\)</span> assuming a constant enthalpy expansion valve</p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(h_7=h_3\)</span></p>
<p>therefore,</p>
<p><span class="math notranslate nohighlight">\(q_{c2}=h_9-h_8\)</span> the cooling capacity for evaporator 1</p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(\dot m_{e2}=\dot Q_{c2}/q_{c2}\)</span> the flow-rate for evaporator 1</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#cooling loads </span>
<span class="n">Q_c1</span> <span class="o">=</span> <span class="mi">100</span>   <span class="c1">#cooling load for evaporator 1 in kW</span>
<span class="n">Q_c2</span> <span class="o">=</span> <span class="mi">100</span>   <span class="c1">#cooling load for evaporator 1 in kW</span>

<span class="c1">#for evaporator 1</span>
<span class="n">h_4</span> <span class="o">=</span> <span class="n">h_3</span>
<span class="n">h_5</span> <span class="o">=</span> <span class="n">h_4</span>
<span class="n">q_c1</span> <span class="o">=</span> <span class="n">h_6</span> <span class="o">-</span> <span class="n">h_5</span>   <span class="c1">#cooling capacity for evaporator 1</span>
<span class="n">m_e1</span> <span class="o">=</span> <span class="n">Q_c1</span> <span class="o">/</span> <span class="n">q_c1</span>   <span class="c1">#refrigrant flow-rate in evaporator 1 in kg/s</span>

<span class="c1">#for evaporator 2</span>
<span class="n">h_7</span> <span class="o">=</span> <span class="n">h_3</span>
<span class="n">h_8</span> <span class="o">=</span> <span class="n">h_7</span>
<span class="n">q_c2</span> <span class="o">=</span> <span class="n">h_9</span> <span class="o">-</span> <span class="n">h_8</span>   <span class="c1">#cooling capacity for evaporator 2</span>
<span class="n">m_e2</span> <span class="o">=</span> <span class="n">Q_c2</span> <span class="o">/</span> <span class="n">q_c2</span>   <span class="c1">#refrigrant flow-rate in evaporator 2 in kg/s</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The refrigrant flow-rate in evaporator 1 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_e1</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kg/s&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The refrigrant flow-rate in evaporator 2 is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m_e2</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kg/s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The refrigrant flow-rate in evaporator 1 is: 0.8 kg/s
The refrigrant flow-rate in evaporator 2 is: 0.7 kg/s
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-d">
<h5>Solution Approach for d)<a class="headerlink" href="#solution-approach-for-d" title="Permalink to this heading">#</a></h5>
<p>applying the first law and conservation of mass to the mixing point where two outlets from evaporators come together,</p>
<p><span class="math notranslate nohighlight">\(\dot m_{10}+\dot m_6=\dot m_1\)</span></p>
<p><span class="math notranslate nohighlight">\(\dot m_{10}h_{10}+\dot m_6h_6=\dot m_1h_1\)</span></p>
<p>so</p>
<p><span class="math notranslate nohighlight">\((\dot m_{10}h_{10}+\dot m_6h_6)/\dot m_1=h_1\)</span></p>
<p>while</p>
<p><span class="math notranslate nohighlight">\(h_{10}=h_9\)</span> assuming a constant enthalpy expansion</p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(\dot m_{10}=\dot m_{e2}\)</span></p>
<p><span class="math notranslate nohighlight">\(\dot m_6=\dot m_{e1}\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#mass flow-rate</span>
<span class="n">m_10</span> <span class="o">=</span> <span class="n">m_e2</span>
<span class="n">m_6</span> <span class="o">=</span> <span class="n">m_e1</span>
<span class="n">m_1</span> <span class="o">=</span> <span class="n">m_10</span> <span class="o">+</span> <span class="n">m_6</span>

<span class="n">h_10</span><span class="o">=</span><span class="n">h_9</span>

<span class="n">h_1</span> <span class="o">=</span> <span class="p">(</span><span class="n">m_10</span> <span class="o">*</span> <span class="n">h_10</span> <span class="o">+</span> <span class="n">m_6</span> <span class="o">*</span> <span class="n">h_6</span><span class="p">)</span><span class="o">/</span><span class="n">m_1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific enthalpy of the refrigrant entering the compressor is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_1</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The specific enthalpy of the refrigrant entering the compressor is: 392.3 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-e">
<h5>Solution Approach for e)<a class="headerlink" href="#solution-approach-for-e" title="Permalink to this heading">#</a></h5>
<p>For compressor inlet, the pressure would be same pressure as is in evaporator 1 which is the saturation pressure at the low temperature(<span class="math notranslate nohighlight">\(-20^{\circ} C\)</span>)</p>
<p><span class="math notranslate nohighlight">\(P_1 = P_6 = P_{sat&#64;-20^{\circ} C}\)</span></p>
<p>For compressor outlet, the pressure would be same as working pressure for the condenser which is the saturation pressure at <span class="math notranslate nohighlight">\(40^{\circ} C\)</span></p>
<p><span class="math notranslate nohighlight">\(P_2 = P_3 = P_{sat&#64;40^{\circ} C}\)</span></p>
<p><span class="math notranslate nohighlight">\(R(pressure\:ratio)=P_2/P_1\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">P_6</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_6</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># sat pressure at state #6 in Pa</span>
<span class="n">P_1</span> <span class="o">=</span> <span class="n">P_6</span>

<span class="n">P_3</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_3</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>  <span class="c1"># sat pressure at state #3 in Pa</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="n">P_3</span>

<span class="n">R</span> <span class="o">=</span> <span class="n">P_2</span> <span class="o">/</span> <span class="n">P_1</span>   <span class="c1">#the compressor pressure ratio</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The pressure ratio of the compressor is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">R</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The pressure ratio of the compressor is: 7.7
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-f">
<h5>Solution Approach for f)<a class="headerlink" href="#solution-approach-for-f" title="Permalink to this heading">#</a></h5>
<p>The specific enthalpy of he refrigrant at the compressor outlet is evaluated based on temperature and pressure</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#define variables</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="mi">120</span> <span class="o">+</span> <span class="mf">273.15</span> <span class="c1">#temperature of R134a at compressor outlet</span>
<span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>  <span class="c1"># refrigrant enthalpy at compressor outlet in kJ/kg</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The specific enthalpy of the refrigrant exiting the compressor is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">h_2</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;kJ/kg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The specific enthalpy of the refrigrant exiting the compressor is: 504.1 kJ/kg
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-g">
<h5>Solution Approach for g)<a class="headerlink" href="#solution-approach-for-g" title="Permalink to this heading">#</a></h5>
<p>Based on the first law,</p>
<p><span class="math notranslate nohighlight">\(\dot W= \dot m\:(h_2-h_1)\)</span>e</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">W</span> <span class="o">=</span> <span class="n">m_1</span> <span class="o">*</span> <span class="p">(</span><span class="n">h_2</span> <span class="o">-</span> <span class="n">h_1</span><span class="p">)</span>   <span class="c1">#work input for compressor in kW</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The compressor work input is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">W</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="s1">&#39;kW&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The compressor work input is: 164.4 kW
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-h">
<h5>Solution Approach for h)<a class="headerlink" href="#solution-approach-for-h" title="Permalink to this heading">#</a></h5>
<p><span class="math notranslate nohighlight">\(COP = Q_c(cooling\:load) / W(compressor\:work\:input)\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cop</span> <span class="o">=</span> <span class="p">(</span><span class="n">Q_c1</span> <span class="o">+</span> <span class="n">Q_c2</span><span class="p">)</span> <span class="o">/</span> <span class="n">W</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The COP of the cycle is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cop</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The COP of the cycle is: 1.2
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<span id="document-notebooks/Chapter5/CH5-Q9"></span><section class="tex2jax_ignore mathjax_ignore" id="chapter-5">
<h3><a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/5-0-chapter-introduction-and-learning-objectives/">Chapter 5</a><a class="headerlink" href="#chapter-5" title="Permalink to this heading">#</a></h3>
<section id="question-9">
<h4>Question #9<a class="headerlink" href="#question-9" title="Permalink to this heading">#</a></h4>
<p><span class="math notranslate nohighlight">\(5\:g/s\)</span> of hydrogen at <span class="math notranslate nohighlight">\(-20^{\circ} C\)</span> and <span class="math notranslate nohighlight">\(5\:bar\)</span> enters a nozzle with inlet and outlet diameters of <span class="math notranslate nohighlight">\(40\:mm\)</span> and <span class="math notranslate nohighlight">\(15\:mm\)</span>. Given the outlet pressure of nozzle to be <span class="math notranslate nohighlight">\(2\:bar\)</span>, calculate</p>
<p>a) inlet velocity of hydrogen</p>
<p>b) outlet temperature and velocity of hydrogen assuming ideal gas application</p>
<p>c) outlet temperature and velocity of hydrogen using CoolProp module using the answers from b as the first guess</p>
<p><img alt="CH5-Q9.jpg" src="_images/CH5-Q9.png" /></p>
<section id="solution-approach-for-a">
<h5>Solution Approach for a)<a class="headerlink" href="#solution-approach-for-a" title="Permalink to this heading">#</a></h5>
<p>from mass flow-rate correlation</p>
<p><span class="math notranslate nohighlight">\(\dot m=\rho_1 A_1V_1\)</span></p>
<p>so</p>
<p><span class="math notranslate nohighlight">\(V_1=\dot m/(\rho_1A_1)\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the libraries we&#39;ll need</span>
<span class="kn">import</span> <span class="nn">CoolProp.CoolProp</span> <span class="k">as</span> <span class="nn">CP</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># define variables</span>
<span class="n">fluid</span> <span class="o">=</span> <span class="s2">&quot;hydrogen&quot;</span>  <span class="c1"># define the fluid or material of interest</span>
<span class="n">R</span> <span class="o">=</span> <span class="mi">4124</span>   <span class="c1">#fluid gas constant in J/kg.K</span>
<span class="n">C_p</span> <span class="o">=</span> <span class="mi">14307</span>   <span class="c1">#fluid Cp in J/kg.K</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span> <span class="o">+</span> <span class="mf">273.15</span>   <span class="c1">#inlet temperature in K</span>
<span class="n">P_1</span> <span class="o">=</span> <span class="mf">5e+5</span>   <span class="c1">#inlet pressure in Pa</span>
<span class="n">P_2</span> <span class="o">=</span> <span class="mf">2e+5</span>   <span class="c1">#outlet pressure in Pa</span>
<span class="n">m</span> <span class="o">=</span> <span class="mf">0.005</span>   <span class="c1">#fluid mass flow rate in kg/s</span>
<span class="n">D_1</span> <span class="o">=</span> <span class="mf">0.04</span>   <span class="c1">#inlet diameter in m</span>
<span class="n">A_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">D_1</span> <span class="o">**</span><span class="mi">2</span> <span class="o">/</span><span class="mi">4</span>   <span class="c1">#inlet area in m2</span>
<span class="n">rho_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#density of fluid at inlet in kg/m3</span>

<span class="n">V_1</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho_1</span> <span class="o">*</span> <span class="n">A_1</span><span class="p">)</span>   <span class="c1">#velocity of fluid at inlet</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The velocity of the fluid at inlet is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_1</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m/s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The velocity of the fluid at inlet is: 8.3 m/s
</pre></div>
</div>
</div>
</div>
</section>
<section id="solution-approach-for-b">
<h5>Solution Approach for b)<a class="headerlink" href="#solution-approach-for-b" title="Permalink to this heading">#</a></h5>
<p>from mass conservation</p>
<p><span class="math notranslate nohighlight">\(\dot m=\rho_2 A_2V_2\)</span></p>
<p>so</p>
<p><span class="math notranslate nohighlight">\(V_2=\dot m/(\rho_2A_2)\)</span></p>
<p>while from ideal gas assumption</p>
<p><span class="math notranslate nohighlight">\(P=\rho RT\)</span></p>
<p>therefore</p>
<p><span class="math notranslate nohighlight">\(\rho_2=P_2/(RT_2)\)</span></p>
<p>so</p>
<p><span class="math notranslate nohighlight">\(V_2=\dot m RT_2/(P_2A_2)=\alpha T_2\)</span></p>
<p>while</p>
<p><span class="math notranslate nohighlight">\(\alpha=\dot m R/(P_2A_2)\)</span></p>
<p>from energy conservation</p>
<p><span class="math notranslate nohighlight">\(h_1+1/2V_1^2=h_2+1/2V_2^2\)</span></p>
<p>and from ideal gas assumption</p>
<p><span class="math notranslate nohighlight">\(\Delta h=C_p(T_2-T_1)\)</span></p>
<p>therefore</p>
<p><span class="math notranslate nohighlight">\(C_pT_1+1/2V_1^2=C_pT_2+1/2V_2^2\)</span></p>
<p>substituting <span class="math notranslate nohighlight">\(V_2\)</span></p>
<p><span class="math notranslate nohighlight">\(C_pT_1+1/2V_1^2=C_pT_2+1/2\alpha^2T_2^2\)</span></p>
<p>organizing for <span class="math notranslate nohighlight">\(T_2\)</span></p>
<p><span class="math notranslate nohighlight">\((1/2\alpha^2)T_2^2+C_pT_2-(C_pT_1+1/2V_1^2)=0\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define variables</span>
<span class="n">D_2</span> <span class="o">=</span> <span class="mf">0.015</span>   <span class="c1">#outlet diameter in m</span>
<span class="n">A_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">D_2</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span><span class="mi">4</span>   <span class="c1">#outlet area in m2</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">R</span> <span class="o">/</span> <span class="p">(</span><span class="n">P_2</span> <span class="o">*</span> <span class="n">A_2</span><span class="p">)</span>

<span class="c1"># Coefficients of the quadratic equation ax^2 + bx + c = 0</span>
<span class="n">a</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">alpha</span> <span class="o">**</span><span class="mi">2</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">C_p</span>
<span class="n">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="p">(</span><span class="n">C_p</span> <span class="o">*</span> <span class="n">T_1</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">V_1</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Calculate the discriminant (the value inside the square root)</span>
<span class="n">discriminant</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span>
<span class="c1"># Two real solutions</span>
<span class="n">x1</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">b</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">discriminant</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="n">x2</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">b</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">discriminant</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># to pick the correct positive value for temperature at outlet</span>
<span class="k">if</span> <span class="n">x1</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
   <span class="n">T_2</span> <span class="o">=</span> <span class="n">x1</span>
<span class="k">else</span><span class="p">:</span>
   <span class="n">T_2</span> <span class="o">=</span> <span class="n">x2</span>

<span class="n">V_2</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">T_2</span>   <span class="c1"># velocity at outlet</span>
<span class="n">T_2C</span> <span class="o">=</span> <span class="n">T_2</span> <span class="o">-</span> <span class="mf">273.15</span>   <span class="c1">#temperature at outlet in celcius</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The velocity of the fluid at outlet is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_2</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m/s&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The temperature of the fluid at outlet is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">T_2C</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;celcius&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The velocity of the fluid at outlet is: 147.25 m/s
The temperature of the fluid at outlet is: -20.76 celcius
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h5>Solution Approach for b)<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h5>
<p>again from energy conservarion</p>
<p><span class="math notranslate nohighlight">\(h_1+1/2V_1^2=h_2+1/2V_2^2\)</span></p>
<p>while <span class="math notranslate nohighlight">\(h_2\)</span> is obtained from coolprop based on pressure and temperature and</p>
<p><span class="math notranslate nohighlight">\(V_2=\dot m/(\rho_2A_2)\)</span></p>
<p>while <span class="math notranslate nohighlight">\(\rho_2\)</span> is obtained from coolprop likewise, therefore</p>
<p><span class="math notranslate nohighlight">\(h_2+(\dot m^2/(2A_2^2))(1/\rho_2^2)=h_1+1/2V_1^2\)</span></p>
<p>setting <span class="math notranslate nohighlight">\(\beta\)</span> as</p>
<p><span class="math notranslate nohighlight">\(\beta=h_1+1/2V_1^2\)</span></p>
<p>the difference between <span class="math notranslate nohighlight">\(\beta\)</span> and the left hand side of the previous equation calculated by CoolProp would be the error of calculations used along with a tunning parameter <span class="math notranslate nohighlight">\((z)\)</span> in a tial-error method.</p>
<p>now, a trial and error method is to be used to obtain temperature (and veocity) using coolprop and the previous equation</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">h_1</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_1</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_1</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#enthalpy of fluid at inlet in J/kg</span>
<span class="n">betha</span> <span class="o">=</span> <span class="n">h_1</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">V_1</span> <span class="o">**</span><span class="mi">2</span>

<span class="c1">#obtaining enthalpy and density based on the guess value</span>
<span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#guess enthalpy of fluid at outlet in J/kg</span>
<span class="n">rho_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#guess density of fluid at outlet in kg/m3</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">betha</span> <span class="o">-</span> <span class="n">h_2</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho_2</span> <span class="o">*</span> <span class="n">A_2</span><span class="p">))</span> <span class="o">**</span> <span class="mi">2</span>   <span class="c1">#error based on the guess</span>

<span class="c1">#now starting a loop to implement the trila and error method</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">z</span> <span class="o">=</span> <span class="mf">0.0001</span>    <span class="c1">#tunning parameter to tune calculation error and apply to the new temperature guess</span>

<span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">:</span>
    <span class="n">T_2</span> <span class="o">=</span> <span class="n">T_2</span> <span class="o">+</span> <span class="n">e</span> <span class="o">*</span> <span class="n">z</span>    <span class="c1">#new temperature guess based on the error (e) and the tunning parameter (z) </span>
    <span class="n">h_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#new guess enthalpy of fluid at outlet in J/kg</span>
    <span class="n">rho_2</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">PropsSI</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">T_2</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="n">P_2</span><span class="p">,</span> <span class="n">fluid</span><span class="p">)</span>   <span class="c1">#new guess density of fluid at outlet in kg/m3</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">betha</span> <span class="o">-</span> <span class="n">h_2</span> <span class="o">-</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho_2</span> <span class="o">*</span> <span class="n">A_2</span><span class="p">))</span> <span class="o">**</span> <span class="mi">2</span>   <span class="c1">#new error based on the new guess</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="k">break</span>

<span class="c1"># note the difference between two consecutive temperature guesses is e * z therefore an e &lt; 1 means a diffrence lower than 0.0001 K</span>

<span class="n">V_2</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho_2</span> <span class="o">*</span> <span class="n">A_2</span><span class="p">)</span>   <span class="c1">#velocity calculated based on temperature </span>
<span class="n">T_2C</span> <span class="o">=</span> <span class="n">T_2</span> <span class="o">-</span> <span class="mf">273.15</span>   <span class="c1">#temperature at outlet in celcius</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The velocity of the fluid at outlet based on CoolProp is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">V_2</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;m/s&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The temperature of the fluid at outlet based on CoolProp is:&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">T_2C</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;celcius&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The velocity of the fluid at outlet based on CoolProp is: 147.49 m/s
The temperature of the fluid at outlet based on CoolProp is: -20.71 celcius
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
</div>
</section>
<span id="document-notebooks/Chapter6/chapter6"></span><section class="tex2jax_ignore mathjax_ignore" id="entropy-and-the-second-law-of-thermodynamics">
<h2>6. Entropy and the Second Law of Thermodynamics<a class="headerlink" href="#entropy-and-the-second-law-of-thermodynamics" title="Permalink to this heading">#</a></h2>
<p>Let’s do some problems based on concepts on <a class="reference external" href="https://pressbooks.bccampus.ca/thermo1/chapter/6-0-chapter-introduction-and-learning-objectives/">Chapter 6</a> from the e-textbook.</p>
<div class="toctree-wrapper compound">
<span id="document-notebooks/Chapter6/CH6-Q1"></span><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
</div>
</section>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Faculty of Applied Science, UBC licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">[CC-BY-SA 4.0]</a>
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>